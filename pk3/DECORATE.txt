actor GhostCustomBridge : CustomBridge Replaces CustomBridge
{
	+GHOST
}

actor GhostInvisibleBridge : InvisibleBridge Replaces InvisibleBridge
{
	+GHOST
}

actor GhostInvisibleBridge8 : InvisibleBridge8 Replaces InvisibleBridge8
{
	+GHOST
}

actor GhostInvisibleBridge16 : InvisibleBridge16 Replaces InvisibleBridge16
{
	+GHOST
}

actor GhostInvisibleBridge32 : InvisibleBridge32 Replaces InvisibleBridge32
{
	+GHOST
}

actor GhostBridge : Bridge Replaces Bridge
{
	+GHOST
}

actor GhostZBridge : ZBridge Replaces ZBridge
{
	+GHOST
}

actor DamageDummy : PowerupGiver
{
  inventory.pickupmessage ""
  inventory.defmaxamount
  inventory.maxamount 0
  powerup.duration 48
  powerup.type "Frightener"
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  states
  {
  Spawn:
    TNT1 A 3
    loop
  }
}

actor Detonator : Inventory
{
  inventory.amount 1
  inventory.maxamount 1
  -INVBAR
  -INTERHUBSTRIP
  +INVENTORY.UNDROPPABLE
  +INVENTORY.HUBPOWER
  states
  {
  Spawn:
	TNT1 A 1
	loop
  }
}

actor RespawnCheck : Inventory
{
  inventory.amount 1
  inventory.maxamount 1
  -INVBAR
  -INTERHUBSTRIP
  +INVENTORY.UNDROPPABLE
  +INVENTORY.HUBPOWER
  states
  {
  Spawn:
	TNT1 A 1
	loop
  }
}

actor PaintBallMode : PowerupGiver
{
  inventory.pickupmessage ""
  inventory.defmaxamount
  inventory.maxamount 0
  powerup.duration 9999999999
  powerup.type "WeaponLevel2"
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  states
  {
  Spawn:
    TNT1 A 3
    loop
  }
}

actor HitSpark
{
	RenderStyle Add
	Alpha 0.9
	Scale 0.15
	Radius 1
	Height 1
	+NOBLOCKMAP
	+NOCLIP
	+NOGRAVITY
	States
	{
		Spawn:
			SPRK ABCDE 1 bright
			stop
	}
}

actor BulletTracer : FastProjectile
{
	Projectile
	Radius 2
	Height 2
	Speed 232
	RenderStyle Add
	Alpha 1.0
	+NOGRAVITY
	+THRUGHOST
	States
	{
		Spawn:
			PUFF A 1 BRIGHT
			loop
		Crash:
		Death:
			TNT1 A 0
			TNT1 A 1
			stop
	}
}

ACTOR ShotgunCartridges : Ammo Replaces Shell
{
  Inventory.PickupMessage "Picked up some Shotgun Cartridges"
  Inventory.Amount 5
  Inventory.MaxAmount 50
  Ammo.BackpackAmount 5
  Ammo.BackpackMaxAmount 100
  Inventory.Icon "SHELA0"
  States
  {
  Spawn:
    SHEL A -1
    Stop
  }
}

ACTOR LargeShotgunCartridges : ShotgunCartridges Replaces ShellBox
{
	Inventory.Amount 15
}

ACTOR GrenadeRounds : Ammo Replaces RocketAmmo
{
  Inventory.PickupMessage "Picked up some Grenade Rounds"
  Inventory.Amount 6
  Inventory.MaxAmount 12
  Ammo.BackpackAmount 1
  Ammo.BackpackMaxAmount 24
  Inventory.Icon "ROCKA0"
  States
  {
  Spawn:
    ROCK A -1
    stop
  }
}

ACTOR Rockets : Ammo Replaces RocketBox
{
  Inventory.PickupMessage "Picked up some Rockets"
  Inventory.Amount 3
  Inventory.MaxAmount 3
  Ammo.BackpackAmount 1
  Ammo.BackpackMaxAmount 6
  Inventory.Icon "ROCKA0"
  States
  {
  Spawn:
    ROCK A -1
    stop
  }
}

ACTOR 9mmBullets : Ammo Replaces Clip
{
  Inventory.PickupMessage "Picked up some Ammo"
  Inventory.Amount 14
  Inventory.MaxAmount 200
  Ammo.BackpackAmount 14
  Ammo.BackpackMaxAmount 400
  Inventory.Icon "CLIPA0"
  States
  {
  Spawn:
    CLIP A -1
    Stop
  }
}

actor Large9mmBullets : 9mmBullets replaces ClipBox
{
  Game Doom
  SpawnID 139
  Inventory.PickupMessage "Picked up some Ammo"
  Inventory.Amount 42
  States
  {
  Spawn:
    CLIP A -1
    Stop
  }
}

actor JamesBond : DoomPlayer Replaces DoomPlayer
{
	-CANNOTPUSH
	player.forwardmove 0.64
	player.sidemove 0.64
	player.startitem PP7
	player.startitem HuntingKnife
	player.startitem ThrowingKnives
	player.startitem Knives 1
	player.startitem 9mmBullets 42
	States
	{
	Death:
		PLAY H 7 A_GiveInventory("Detonator", 1)
		PLAY I 7 A_PlayerScream
		PLAY J 7 A_NoBlocking
		PLAY K 0 A_TakeInventory("Detonator", 999)
		PLAY KLM 6
		PLAY N -1
		Stop
	Death.Rocket:
		PLAY A 0 A_Recoil(Random(8, 15))
		PLAY A 0 ThrustThingZ(0, Random(48,60), 0, 0)
		PLAY H 7 A_GiveInventory("Detonator", 1)
		PLAY I 7 A_PlayerScream
		PLAY J 7 A_NoBlocking
		PLAY K 0 A_TakeInventory("Detonator", 999)
		PLAY KLM 6
		PLAY N -1
		Stop
	Death.Grenade:
		PLAY A 0 A_Recoil(Random(5, 10))
		PLAY A 0 ThrustThingZ(0, Random(38,48), 0, 0)
		PLAY H 7 A_GiveInventory("Detonator", 1)
		PLAY I 7 A_PlayerScream
		PLAY J 7 A_NoBlocking
		PLAY K 0 A_TakeInventory("Detonator", 999)
		PLAY KLM 6
		PLAY N -1
		Stop
	Pain:
		PLAY G 0 ACS_Execute(996, 0)
    	PLAY G 4 A_GiveInventory("DamageDummy", 1)
    	PLAY G 4 A_Pain
    	Goto Spawn
	Pain.Taze:
		PLAY G 0 A_GiveInventory("DamageDummy", 1)
		PLAY G 0 A_Pain
		PLAY G 0 A_SetBlend("FF FF FF", 0.9, 28)
		PLAY G 1 ACS_ExecuteAlways(888, 0)
		goto See
	}
}

actor BulletCasing
{
  Projectile
  Radius 1
  Height 1
  Speed 9
  Scale 0.1
  BounceCount 2
  BounceFactor 0.5
  ReactionTime 200
  SeeSound "BulletCasing"
  DeathSound "Bulletcasing"
  -NOGRAVITY
  +HEXENBOUNCE
  +DONTSPLASH
  -ACTIVATEMCROSS
  -ACTIVATEPCROSS
  -ACTIVATEIMPACT
  States
  {
   Spawn:
	TNT1 A 0
	TNT1 A 0 A_StopSound
	BCAS ABCDEFGH 1 A_CountDown
	goto Spawn+2
   Death:
	TNT1 A 0 A_Scream
	TNT1 A 0
	stop
  }
}

actor PointedBulletCasing
{
  Projectile
  Radius 1
  Height 1
  Speed 9
  Scale 0.04
  BounceCount 2
  BounceFactor 0.5
  ReactionTime 200
  SeeSound "BulletCasing"
  DeathSound "Bulletcasing"
  -NOGRAVITY
  +HEXENBOUNCE
  +DONTSPLASH
  -ACTIVATEMCROSS
  -ACTIVATEPCROSS
  -ACTIVATEIMPACT
  States
  {
   Spawn:
	TNT1 A 0
	TNT1 A 0 A_StopSound
	PCAS ABCDEFGH 1 A_CountDown
	goto Spawn+2
   Death:
	TNT1 A 0 A_Scream
	TNT1 A 0
	stop
  }
}

actor ShellCasing
{
  Projectile
  Radius 1
  Height 1
  Speed 9
  Scale 0.2
  BounceCount 2
  BounceFactor 0.5
  ReactionTime 200
  SeeSound "BulletCasing"
  DeathSound "Shellcasing"
  -NOGRAVITY
  +HEXENBOUNCE
  +DONTSPLASH
  -ACTIVATEMCROSS
  -ACTIVATEPCROSS
  -ACTIVATEIMPACT
  States
  {
   Spawn:
	TNT1 A 0
	TNT1 A 0 A_StopSound
	SHE2 ABCDEF 1 A_CountDown
	goto Spawn+2
   Death:
	TNT1 A 0 A_Scream
	TNT1 A 0
	stop
  }
}

ACTOR PP7Clip : Ammo
{
Inventory.MaxAmount 7 // size of the clip
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 7 //MUST be the same as Inventory.MaxAmmount
Inventory.Icon ICONBULL
+INVENTORY.IGNORESKILL
}

ACTOR PP7Accuracy : Inventory
{
   Inventory.Amount 1
   Inventory.MaxAmount 8
   -INVBAR
}

ACTOR PP7 : DoomWeapon Replaces Pistol
{
	Decal BulletChip
	Weapon.SelectionOrder 1900
	Weapon.AmmoUse 1
	Weapon.AmmoGive1 7
	Weapon.AmmoGive2 14
	Weapon.AmmoType "PP7Clip"
	Weapon.AmmoType2 "9mmBullets"
	Weapon.UpSound "misc/w_pkup"
	Weapon.SisterWeapon "PP7Paintball"
	Obituary "%o was capped by %k's PP7."
	+WEAPON.WIMPY_WEAPON
	//+WEAPON.ALLOW_WITH_RESPAWN_INVUL
	+WEAPON.AMMO_OPTIONAL
	+WEAPON.NOAUTOFIRE
	Inventory.Pickupmessage "PP7"
	Radius 20
	Height 16
	Attacksound "weapons/pistol"
	States
	{
	Ready:
	 PP7G A 0 A_WeaponReady
	 goto ReloadCheck
	 PP7G AA 1 A_WeaponReady
	 PP7G A 0 A_TakeInventory("PP7Accuracy", 1)
	 goto Ready+1

	ReloadCheck:
	 PP7G A 0 A_JumpIfInventory("PP7Clip",7,2)
	 PP7G A 0 A_JumpIfInventory("9mmBullets",1,"ReloadStart")
	 PP7G A 0
	 goto Ready+1

	ReloadStart:
	 PP7R A 0 A_PlayWeaponSound("WeaponReload")
	 PP7R A 0 A_TakeInventory("PP7Accuracy", 2)
	 PP7R ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

	ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("9mmBullets",1)
	 TNT1 A 0 A_GiveInventory("PP7Clip",1)
	 TNT1 A 0 A_JumpIfInventory("PP7Clip",7,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("9mmBullets",1,"ReloadAmmo")
	 goto ReloadDone

	ReloadDone:
	 TNT1 A 5
	 PP7R GFEDCBA 1
	 goto Ready+1

	Deselect:
		PP7G A 1 A_Lower
		TNT1 A 0 A_Lower
		Loop
	Select:
		PP7G A 1 A_Raise
		TNT1 A 0 A_Raise
		Loop
	Fire:
		PP7G A 0 A_JumpIfNoAmmo("ReloadCheck")
		PP7G B 0 BRIGHT A_Gunflash
		PP7G B 0 A_JumpIfInventory("PP7Accuracy", 8, "FireAccuracy8")
		PP7G B 0 A_JumpIfInventory("PP7Accuracy", 7, "FireAccuracy7")
		PP7G B 0 A_JumpIfInventory("PP7Accuracy", 6, "FireAccuracy6")
		PP7G B 0 A_JumpIfInventory("PP7Accuracy", 5, "FireAccuracy5")
		PP7G B 0 A_JumpIfInventory("PP7Accuracy", 4, "FireAccuracy4")
		PP7G B 0 A_JumpIfInventory("PP7Accuracy", 3, "FireAccuracy3")
		PP7G B 0 A_JumpIfInventory("PP7Accuracy", 2, "FireAccuracy2")
		PP7G B 0 A_JumpIfInventory("PP7Accuracy", 1, "FireAccuracy1")
		goto FireAccuracy0
	FireAccuracy0:
		PP7G B 1 BRIGHT A_FireBullets (0, 0, -1, 6, "BulletPuff")
		PP7G B 0 A_GiveInventory("PP7Accuracy", 1)
		goto FireDone

  	FireAccuracy1:
		PP7G B 1 BRIGHT A_FireBullets (1, 0.5, -1, 5, "BulletPuff")
		PP7G B 0 A_GiveInventory("PP7Accuracy", 1)
		goto FireDone

  	FireAccuracy2:
		PP7G B 1 BRIGHT A_FireBullets (1, 1, -1, 5, "BulletPuff")
		PP7G B 0 A_GiveInventory("PP7Accuracy", 1)
		goto FireDone

	FireAccuracy3:
		PP7G B 1 BRIGHT A_FireBullets (1.5, 1, -1, 5, "BulletPuff")
		PP7G B 0 A_GiveInventory("PP7Accuracy", 1)
		goto FireDone

	FireAccuracy4:
		PP7G B 1 BRIGHT A_FireBullets (1.8, 1.5, -1, 5, "BulletPuff")
		PP7G B 0 A_GiveInventory("PP7Accuracy", 1)
		goto FireDone

	FireAccuracy5:
		PP7G B 1 BRIGHT A_FireBullets (2, 1.5, -1, 5, "BulletPuff")
		PP7G B 0 A_GiveInventory("PP7Accuracy", 1)
		goto FireDone

	FireAccuracy6:
		PP7G B 1 BRIGHT A_FireBullets (2, 2, -1, 5, "BulletPuff")
		PP7G B 0 A_GiveInventory("PP7Accuracy", 1)
		goto FireDone

	FireAccuracy7:
		PP7G B 1 BRIGHT A_FireBullets (2.5, 2, -1, 5, "BulletPuff")
		PP7G B 0 A_GiveInventory("PP7Accuracy", 1)
		goto FireDone

	FireAccuracy8:
		PP7G B 1 BRIGHT A_FireBullets (3, 3, -1, 5, "BulletPuff")
		PP7G B 0 A_GiveInventory("PP7Accuracy", 1)
		goto FireDone

	FireDone:
		PP7G B 0 BRIGHT A_FireCustomMissile ("BulletCasing", Random(-40, -50), 0, 1, 7, 0)
		PP7G CD 1
		PP7G E 1 A_WeaponReady(WRF_NOBOB)
		PP7G F 2 A_WeaponReady(WRF_NOBOB)
		PP7G G 1 A_WeaponReady(WRF_NOBOB)
		PP7G G 0 A_TakeInventory("PP7Accuracy", 1)
		PP7G G 1 A_WeaponReady(WRF_NOBOB)
		PP7G G 0 A_TakeInventory("PP7Accuracy", 1)
		PP7G A 3 A_WeaponReady
		PP7G A 0 A_ReFire
		Goto Ready+1
	AltFire:
		TNT1 A 0
		goto ReloadCheck
	Flash:
		TNT1 A 2 Bright A_Light1
		TNT1 A 0 Bright A_Light0
		stop
	Spawn:
		PIST A -1
		Stop
	}
}

actor PP7Paintball : PP7
{
	Decal PaintBallSplat
	Weapon.SisterWeapon "PP7"
	+WEAPON.POWERED_UP
}

ACTOR AutoClip : Ammo
{
	Inventory.MaxAmount 5 // size of the clip
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 5 //MUST be the same as Inventory.MaxAmmount
	Inventory.Icon "SGNSHELL"
	+INVENTORY.IGNORESKILL
}

actor AutomaticShotgun : DoomWeapon Replaces SuperShotgun
{
  Decal BulletChip
  spawnid 33
  obituary "%o ate %k's load."
  radius 20
  height 16
  attacksound "weapons/sshotf"
  inventory.pickupmessage "Automatic Shotgun"
  Weapon.SisterWeapon "AutomaticShotgunPaintball"
  Weapon.UpSound "misc/w_pkup"
  weapon.selectionorder 400
  weapon.kickback 100
  Weapon.Ammotype "AutoClip"
  weapon.ammotype2 "ShotgunCartridges"
  weapon.ammouse 1
  weapon.ammogive 5
  weapon.ammogive2 5
  Scale 0.9
  +WEAPON.AMMO_OPTIONAL
  states
  {
  Ready:
	ASHG A 0 A_WeaponReady
	goto ReloadCheck
	ASHG A 1 A_WeaponReady
	goto Ready+1

  ReloadCheck:
	 ASHG A 0 A_JumpIfInventory("AutoClip",5,2)
	 ASHG A 0 A_JumpIfInventory("ShotgunCartridges",1,"ReloadStart")
	 ASHG A 0
	 goto Ready+1

  ReloadStart:
	 ASHG A 0 A_PlayWeaponSound("WeaponReload")
	 ASHG A 1 Offset (0, 40)
	 ASHG A 1 Offset (0, 50)
	 ASHG A 1 Offset (0, 60)
	 ASHG A 1 Offset (0, 70)
	 ASHG A 1 Offset (0, 80)
	 ASHG A 1 Offset (0, 90)
	 ASHG A 1 Offset (0, 100)
	 TNT1 A 5
	 goto ReloadAmmo

  ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("ShotgunCartridges",1)
	 TNT1 A 0 A_GiveInventory("AutoClip",1)
	 TNT1 A 0 A_JumpIfInventory("AutoClip",5,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("ShotgunCartridges",1,"ReloadAmmo")
	 goto ReloadDone

  ReloadDone:
	 TNT1 A 5
	 ASHG A 1 Offset (0, 100)
	 ASHG A 1 Offset (0, 90)
	 ASHG A 1 Offset (0, 80)
	 ASHG A 1 Offset (0, 70)
	 ASHG A 1 Offset (0, 60)
	 ASHG A 1 Offset (0, 50)
	 ASHG A 1 Offset (0, 40)
	 goto Ready+1

  Deselect:
	ASHG A 1 A_Lower
	TNT1 A 0 A_Lower
	loop
  Select:
	ASHG A 1 A_Raise
	TNT1 A 0 A_Raise
	loop
  Fire:
	ASHG A 0 A_JumpIfNoAmmo("ReloadCheck")
	ASHG A 0 A_FireCustomMissile("ShellCasing", Random(-40, -50), 0, 2, 4, 0)
	ASHG A 0 A_FireBullets (6, 5, 5, 8, "BulletPuff")
	ASHG A 0 A_GunFlash
	ASHG B 1
	ASHG CDEF 2
	ASHG GHI 2
	ASHG A 5
	ASHG A 2 A_ReFire
	goto Ready+1
  Altfire:
	ASHG A 0
	goto ReloadCheck
  Flash:
  	TNT1 A 0 Bright Radius_Quake(3, 2, 0, 1, 0)
  	NULL A 0 bright A_Jump(127, "Flash2")
	NULL A 2 bright A_Light2
	TNT1 A 0 bright A_Light0
	stop
  Flash2:
  	NULL B 2 bright A_Light2
  	TNT1 A 0 bright	A_Light0
  	stop
  Spawn:
	SGN2 A -1
	stop
  }
}

actor AutomaticShotgunPaintball : AutomaticShotgun
{
	Decal PaintBallSplat
	Weapon.SisterWeapon "AutomaticShotgun"
	+WEAPON.POWERED_UP
}

ACTOR ZMGClip : Ammo
{
	Inventory.MaxAmount 32 // size of the clip
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 32 //MUST be the same as Inventory.MaxAmmount
	Inventory.Icon ICONBULL
	+INVENTORY.IGNORESKILL
}

ACTOR ZMG : Weapon 5014
{
	Decal BulletChip
	Weapon.UpSound "misc/w_pkup"
	Weapon.AmmoType "ZMGClip"
	Weapon.AmmoType2 "9mmBullets"
	Weapon.AmmoGive1 32
	Weapon.AmmoGive2 40
	Weapon.AmmoUse 1
	Weapon.Selectionorder 700
	Weapon.Kickback 100
	Weapon.SisterWeapon "ZMGPaintball"
	Inventory.PickupMessage "ZMG"
	Obituary "%o was drilled by %k's ZMG"
	AttackSound "ZMGFire"
	SpawnID 214
	Radius 20
	Height 16
	+WEAPON.AMMO_OPTIONAL
	States
	{
	Spawn:
		ZMGP A -1
		Loop
  Ready:
	ZMGG A 0 A_WeaponReady
	goto ReloadCheck
	ZMGG A 1 A_WeaponReady
	goto Ready+1

  ReloadCheck:
	 ZMGG A 0 A_JumpIfInventory("ZMGClip",32,2)
	 ZMGG A 0 A_JumpIfInventory("9mmBullets",1,"ReloadStart")
	 ZMGG A 0
	 goto Ready+1

  ReloadStart:
	 ZMGR A 0 A_PlayWeaponSound("WeaponReload")
	 ZMGR ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

  ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("9mmBullets",1)
	 TNT1 A 0 A_GiveInventory("ZMGClip",1)
	 TNT1 A 0 A_JumpIfInventory("ZMGClip",32,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("9mmBullets",1,"ReloadAmmo")
	 goto ReloadDone

  ReloadDone:
	 TNT1 A 5
	 ZMGR GFEDCBA 1
	 goto Ready+1
	Deselect:
		ZMGG A 1 A_Lower
		TNT1 A 0 A_Lower
		Loop
	Select:
		ZMGG A 1 A_Raise
		TNT1 A 0 A_Raise
		Loop
	SpawnTracer:
		ZMGG B 0 A_FireCustomMissile("BulletTracer", random(-3,3), 0, 7, 0, 0, random(-3,3))
		goto Fire+4
	Fire:
		ZMGG A 0 A_JumpIfNoAmmo("ReloadCheck")
		ZMGG A 2
		ZMGG A 0 A_GunFlash
		ZMGG B 0 A_Jump(56, "SpawnTracer")
		ZMGG B 0 A_FireCustomMissile("BulletCasing", Random(-40, -50), 0, 2, 6, 0)
		ZMGG B 1 BRIGHT A_FireBullets(5, 4, 1, 6, "BulletPuff")
		ZMGG A 0 A_ReFire
		ZMGG CDEFGHA 2
		goto Ready+1
	AltFire:
		ZMGG A 0
		goto ReloadCheck
	Flash:
		TNT1 A 2 BRIGHT A_Light1
		TNT1 A 0 BRIGHT A_Light0
		Stop
	}
}

actor ZMGPaintball : ZMG
{
	Decal PaintBallSplat
	Weapon.SisterWeapon "ZMG"
	+WEAPON.POWERED_UP
}

ACTOR KlobbClip : Ammo
{
Inventory.MaxAmount 20 // size of the clip
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 20 //MUST be the same as Inventory.MaxAmmount
Inventory.Icon ICONBULL
+INVENTORY.IGNORESKILL
}

ACTOR Klobb : DoomWeapon Replaces Chaingun
{
	Decal BulletChip
	Weapon.UpSound "misc/w_pkup"
	Game Doom
	SpawnID 28
	Weapon.SelectionOrder 700
	Weapon.AmmoUse 1
	Weapon.AmmoGive 20
	Weapon.AmmoGive2 40
	Weapon.AmmoType "KlobbClip"
	Weapon.AmmoType2 "9mmBullets"
	Weapon.SisterWeapon "KlobbPaintball"
	Inventory.PickupMessage "Klobb"
	Obituary "%o was klobbered by %k, how humiliating."
	Attacksound "weapons/chngun"
	+WEAPON.AMMO_OPTIONAL
	States
	{
  Ready:
	KLBG A 0 A_WeaponReady
	goto ReloadCheck
	KLBG A 1 A_WeaponReady
	goto Ready+1

  ReloadCheck:
	 KLBG A 0 A_JumpIfInventory("KlobbClip",20,2)
	 KLBG A 0 A_JumpIfInventory("9mmBullets",1,"ReloadStart")
	 KLBG A 0
	 goto Ready+1

  ReloadStart:
	 KLBR A 0 A_PlayWeaponSound("WeaponReload")
	 KLBR ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

  ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("9mmBullets",1)
	 TNT1 A 0 A_GiveInventory("KlobbClip",1)
	 TNT1 A 0 A_JumpIfInventory("KlobbClip",20,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("9mmBullets",1,"ReloadAmmo")
	 goto ReloadDone

  ReloadDone:
	 TNT1 A 5
	 KLBR GFEDCBA 1
	 goto Ready+1
	Deselect:
		KLBG A 1 A_Lower
		TNT1 A 0 A_Lower
		Loop
	Select:
		KLBG A 1 A_Raise
		TNT1 A 0 A_Raise
		Loop
	SpawnTracer:
		KLBG B 0 A_FireCustomMissile("BulletTracer", random(-2,2), 0, 7, 0, 0, random(-2,2))
		goto Hold+3
	Hold:
		KLBG A 0 A_JumpIfNoAmmo("ReloadCheck")
		KLBG B 0 BRIGHT A_GunFlash
		KLBG B 0 A_Jump(56, "SpawnTracer")
		KLBG B 0 A_FireCustomMissile("BulletCasing", Random(-40, -50), 0, 2, 6, 0)
		KLBG B 1 BRIGHT A_FireBullets(4, 3, 1, 4, "BulletPuff")
		KLBG A 2
		KLBG B 1 BRIGHT
		KLBG A 1
		CHGG B 0 A_ReFire
		Goto Ready+1
	Fire:
		KLBG A 0 A_JumpIfNoAmmo("ReloadCheck")
		KLBG B 0 BRIGHT A_GunFlash
		KLBG B 0 A_FireCustomMissile("BulletCasing", Random(-40, -50), 0, 2, 6, 0)
		KLBG B 1 BRIGHT A_FireBullets(2, 2, -1, 4, "BulletPuff")
		KLBG A 4
		CHGG B 0 A_ReFire
		Goto Ready+1
	AltFire:
		KLBG A 0
		goto ReloadCheck
	Flash:
		TNT1 A 2 Bright A_Light1
		TNT1 A 0 Bright A_Light0
		stop
	Spawn:
		MGUN A -1
		Stop
	}
}

actor KlobbPaintball : Klobb
{
	Decal PaintBallSplat
	Weapon.SisterWeapon "Klobb"
	+WEAPON.POWERED_UP
}

ACTOR GoldenGunShot : Ammo
{
	Inventory.MaxAmount 1
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 1
	Inventory.Icon "GBULLET"
}

ACTOR GoldenGun : DoomWeapon Replaces BFG9000
{
	Decal BulletChip
	Weapon.UpSound "misc/w_pkup"
	Game Doom
	Height 20
	SpawnID 31
	Weapon.SelectionOrder 2800
	Weapon.AmmoUse 1
	Weapon.AmmoGive 1
	Weapon.AmmoGive2 1
	Weapon.AmmoType "GoldenGunShot"
	Weapon.AmmoType2 "GoldenBullet"
	Weapon.SisterWeapon "GoldenGunPaintball"
	+WEAPON.BFG
	+WEAPON.NOLMS
	+WEAPON.AMMO_OPTIONAL
	Obituary "%k put a golden bullet into %o's skull."
	Inventory.PickupMessage "Golden Gun"
	AttackSound "GoldenGunFire"
	States
	{
	Ready:
	 GOLD A 0 A_WeaponReady
	 goto ReloadCheck
	 GOLD A 1 A_WeaponReady
	 goto Ready+1

	ReloadCheck:
	 GOLD A 0 A_JumpIfInventory("GoldenGunShot",1,2)
	 GOLD A 0 A_JumpIfInventory("GoldenBullet",1,"ReloadStart")
	 GOLD A 0
	 goto Ready+1

	ReloadStart:
	 GOLR A 0 A_PlayWeaponSound("WeaponReload")
	 GOLR ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

	ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("GoldenBullet",1)
	 TNT1 A 0 A_GiveInventory("GoldenGunShot",1)
	 TNT1 A 0 A_JumpIfInventory("GoldenGunShot",1,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("GoldenBullet",1,"ReloadAmmo")
	 goto ReloadDone

	ReloadDone:
	 TNT1 A 5
	 GOLR GFEDCBA 1
	 GOLD A 3
	 goto Ready+1

	Deselect:
		GOLD A 1 A_Lower
		TNT1 A 0 A_Lower
		Loop
	Select:
		GOLD A 1 A_Raise
		TNT1 A 0 A_Raise
		Loop
	Fire:
		GOLD A 0 A_JumpIfNoAmmo("ReloadCheck")
		GOLD A 0 A_GunFlash
		GOLD B 1 BRIGHT A_FireBullets(4, 4, -1, 120, "BulletPuff")
		GOLD CDEF 2
		GOLD A 15
		GOLD A 0 A_Refire
		Goto Ready
	AltFire:
	  GOLD A 0
	  goto ReloadCheck
	Flash:
		TNT1 A 2 Bright A_Light1
		TNT1 A 0 Bright A_Light0
		stop
	Spawn:
		BFUG A -1
		Stop
	}
}

actor GoldenGunPaintball : GoldenGun
{
	Decal PaintBallSplat
	Weapon.SisterWeapon "GoldenGun"
	+WEAPON.POWERED_UP
}

actor MunitionsBox : ExplosiveBarrel Replaces ExplosiveBarrel
{
  spawnid 125
  obituary "%o went boom."
  health 50
  radius 10
  height 34
  deathsound "world/barrelx"
  Mass 999999
  +SOLID
  +SHOOTABLE
  +NOBLOOD
  +DONTGIB
  +NOICEDEATH
  states
  {
  Spawn:
	BAR1 A -1
	loop
  Death:
	BAR1 A 2
	TNT1 A 0 bright A_Scream
	TNT1 A 0 bright A_Explode(64, 128, 0)
	TNT1 A 0 A_Fall
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion", 0, 0, 0, 0, 0, 0, 0, 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 AAAAAAA 5 A_SpawnItemEx ("RollingExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	NULL A 2100 A_BarrelDestroy
	NULL A 5 A_Respawn
	Wait
  }
}

actor RollingExplosion
{
  Radius 1
  Height 1
  Speed 0
  RenderStyle Translucent
  Scale 1.32
  -SOLID
  +NOGRAVITY
  +NODAMAGETHRUST
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
   FIR2 ABCDEFGH 2 BRIGHT A_Explode(16, 76, 1)
   FIR2 IJKLMN 2 BRIGHT
   stop
  }
}


ACTOR GoldenBullet : Ammo Replaces Cell
{
	Game Doom
	SpawnID 75
	Inventory.PickupMessage "Picked up a Golden Bullet"
	Inventory.Amount 1
	Inventory.MaxAmount 10
	Ammo.BackpackAmount 2
	Ammo.BackpackMaxAmount 20
	Inventory.Icon "GBULLET"
	States
	{
	Spawn:
		CELL A -1
		Stop
	}
}

ACTOR ShotgunClip : Ammo
{
	Inventory.MaxAmount 5 // size of the clip
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 5 //MUST be the same as Inventory.MaxAmmount
	Inventory.Icon "SGNSHELL"
	+INVENTORY.IGNORESKILL
}

actor GE64Shotgun : DoomWeapon Replaces Shotgun
{
  Decal BulletChip
  Weapon.UpSound "misc/w_pkup"
  spawnid 27
  obituary "%o chewed on %k's boomstick."
  radius 20
  height 16
  attacksound "weapons/shotgf"
  inventory.pickupmessage "Shotgun"
  weapon.selectionorder 1300
  weapon.kickback 100
  Weapon.Ammotype "ShotgunClip"
  weapon.ammotype2 "ShotgunCartridges"
  weapon.ammouse 1
  weapon.ammogive 5
  weapon.ammogive2 5
  Weapon.SisterWeapon "GE64ShotgunPaintball"
  Scale 0.9
  +WEAPON.AMMO_OPTIONAL
  states
  {
  Ready:
	SHTG A 0 A_WeaponReady
	goto ReloadCheck
	SHTG A 1 A_WeaponReady
	goto Ready+1

  ReloadCheck:
	 SHTG A 0 A_JumpIfInventory("ShotgunClip",5,2)
	 SHTG A 0 A_JumpIfInventory("ShotgunCartridges",1,"ReloadStart")
	 SHTG A 0
	 goto Ready+1

  ReloadStart:
	 SHTR A 0 A_PlayWeaponSound("WeaponReload")
	 SHTR ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

  ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("ShotgunCartridges",1)
	 TNT1 A 0 A_GiveInventory("ShotgunClip",1)
	 TNT1 A 0 A_JumpIfInventory("ShotgunClip",5,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("ShotgunCartridges",1,"ReloadAmmo")
	 goto ReloadDone

  ReloadDone:
	 TNT1 A 5
	 SHTR GFEDCBA 1
	 goto Ready+1

  Deselect:
	SHTG A 1 A_Lower
	TNT1 A 0 A_Lower
	loop
  Select:
	SHTG A 1 A_Raise
	TNT1 A 0 A_Raise
	loop
  Fire:
	SHTG A 0 A_JumpIfNoAmmo("ReloadCheck")
	SHTG A 0 A_FireCustomMissile("ShellCasing", Random(-40, -50), 0, 2, 6, 0)
	SHTG A 0 A_FireBullets (5, 4, 5, 5, "BulletPuff")
	SHTG B 1 A_GunFlash
	SHTG CDEF 2
	SHTG GHI 2
	SHTG A 5
	SHTG A 2 A_ReFire
	goto Ready+1
  Altfire:
	SHTG A 0
	goto ReloadCheck
  Flash:
    TNT1 A 0 Bright Radius_Quake(2, 2, 0, 1, 0)
	TNT1 A 2 bright A_Light2
	TNT1 A 0 bright A_Light0
	stop
  Spawn:
	SHOT A -1
	stop
  }
}

actor GE64ShotgunPaintball : GE64Shotgun
{
	Decal PaintBallSplat
	Weapon.SisterWeapon "GE64Shotgun"
	+WEAPON.POWERED_UP
}

ACTOR RocketShot : Ammo
{
Inventory.MaxAmount 1
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 1
Inventory.Icon "ROCKET"
}

ACTOR GE64RocketLauncher : DoomWeapon Replaces RocketLauncher
{
	Game Doom
	Weapon.UpSound "misc/w_pkup"
	SpawnID 29
	Weapon.SelectionOrder 2500
	Weapon.AmmoUse 1
	Weapon.AmmoGive 1
	Weapon.AmmoGive2 3
	Weapon.AmmoType "RocketShot"
	Weapon.AmmoType2 "Rockets"
	+WEAPON.NOAUTOFIRE
	+WEAPON.AMMO_OPTIONAL
	Inventory.PickupMessage "Rocket Launcher"
	States
	{
  Ready:
	RLAU A 0 A_WeaponReady
	goto ReloadCheck
	RLAU A 1 A_WeaponReady
	RLAU A 0 A_JumpIfNoAmmo("EmptyReady")
	goto Ready+1

  EmptyReady:
	RLAU C 0 A_JumpIfInventory("RocketShot",1,3)
	RLAU C 1 A_WeaponReady
	RLAU C 0 A_JumpIfInventory("RocketShot",1,1)
	loop
	RLAU C 0
	goto Ready+1

  ReloadCheck:
	 RLAU C 0 A_JumpIfInventory("RocketShot",1,2)
	 RLAU C 0 A_JumpIfInventory("Rockets",1,"ReloadStart")
	 RLAU C 0
	 goto EmptyReady//+1

  ReloadStart:
	 RLR1 A 0 A_PlayWeaponSound("WeaponReload")
	 RLR1 ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

  ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("Rockets",1)
	 TNT1 A 0 A_GiveInventory("RocketShot",1)
	 TNT1 A 0 A_JumpIfInventory("RocketShot",1,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("Rockets",1,"ReloadAmmo")
	 goto ReloadDone

  ReloadDone:
	 TNT1 A 5
	 RLR2 GFEDCBA 1
	 goto Ready+1

	Deselect:
		RLAU A 0 A_JumpIfInventory("RocketShot",1,2)
		RLAU C 1 A_Lower
		Loop
		RLAU A 1 A_Lower
		goto Deselect+2
	Select:
		RLAU A 0 A_JumpIfInventory("RocketShot",1,2)
		RLAU C 1 A_Raise
		Loop
		RLAU A 1 A_Raise
		goto Select+2
	Fire:
		RLAU A 0 A_JumpIfNoAmmo("ReloadCheck")
		RLAU B 0 A_GunFlash
		RLAU B 3 A_FireCustomMissile("GE64Rocket", 0, 1, 4, 6, 0)
		RLAU C 16
		RLAU C 0 A_ReFire
		Goto ReloadCheck
	AltFire:
		RLAU C 0
		RLAU C 0 A_JumpIfInventory("RocketShot",1,1)
		goto ReloadCheck
		RLAU C 0
		goto Ready+1
	Flash:
		TNT1 A 0 Bright Radius_Quake(1, 4, 0, 1, 0)
		TNT1 A 2 Bright A_Light2
		TNT1 A 1 Bright A_Light1
		TNT1 A 0 Bright A_Light0
		stop
	Spawn:
		LAUN A -1
		Stop
	}
}

actor RollingExplosion3
{
  Radius 1
  Height 1
  Speed 0
  obituary "%o almost Dodged %k's rocket."
  Scale 1.32
  RenderStyle Translucent
  Alpha 0.9
  -SOLID
  +NOGRAVITY
  +NODAMAGETHRUST
  +FORCERADIUSDMG
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
   FIR2 ABCDEFGH 2 BRIGHT A_Explode(16, 76, 1)
   FIR2 IJKLMN 2 BRIGHT
   stop
  }
}

actor GE64RocketTrail
{
  Projectile
  Radius 1
  Height 1
  Damage 0
  Speed 0
  Scale 0.1
  RenderStyle Translucent
  Alpha 0.5
  +NOCLIP
  States
  {
   Spawn:
   TNT1 A 0
   TNT1 A 2
   SMOK ABCDEFGHIJKLMNOPQ 2
   stop
  }
}

actor ExplosionSmoke
{
  Projectile
  Radius 1
  Height 1
  Damage 0
  Speed 0
  Scale 0.8
  RenderStyle Translucent
  Alpha 0.3
  +NOCLIP
  +FORCEXYBILLBOARD
  States
  {
   Spawn:
   SMO2 ABCDEFGHIJKLMNOPQ 10
   stop
  }
}

actor GE64Rocket : Rocket Replaces Rocket
{
  spawnid 127
  obituary "%k shoved a rocket up %o's Ass."
  radius 8
  height 8
  speed 20
  damage 15
  DamageType Rocket
  seesound "weapons/rocklf"
  deathsound "weapons/rocklx"
  Decal BigScorch
  Gravity 0.01
  PROJECTILE
  -NOGRAVITY
  +RANDOMIZE
  -ROCKETTRAIL
  states
  {
  Spawn:
	MISL A 0
	MISL A 0 Thing_ChangeTID(0, 255)
	MISL A 0 A_ScaleVelocity(1.1)
	MISL A 1 A_SpawnItemEx("GE64RocketTrail", Random(-4,4), Random(-4,4), Random(-4,4), 0, 0, 0, 0, 128, 0)
	goto Spawn+2
  Death:
	MISL B 0 bright A_Explode
	TNT1 A 0 radius_quake(2, 10, 0, 3, 0)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris1", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-5, 5), Random(-5, 5), Random(-6, 7), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris2", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-5, 5), Random(-5, 5), Random(-6, 7), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris3", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-5, 5), Random(-5, 5), Random(-6, 7), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris4", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-5, 5), Random(-5, 5), Random(-6, 7), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris5", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-5, 5), Random(-5, 5), Random(-6, 7), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris1", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-3, 3), Random(-3, 3), Random(1, 6), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris2", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-3, 3), Random(-3, 3), Random(1, 6), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris3", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-3, 3), Random(-3, 3), Random(1, 6), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris4", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-3, 3), Random(-3, 3), Random(1, 6), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris5", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-3, 3), Random(-3, 3), Random(1, 6), Random(-360, 360), 128, 24)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion3", 0, 0, 0, 0, 0, 0, 0, 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion3", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion3", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion3", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion3", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion3", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion3", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion3", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion3", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion3", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 AAAAAAA 5 A_SpawnItemEx ("RollingExplosion3", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	stop
  }
}

actor BulletHeat
{
  Radius 1
  Height 1
  Speed 0
  Scale 0.025
  RenderStyle Translucent
  Alpha 0.9
  -SOLID
  +NOBLOCKMAP
  +NOCLIP
  +NOGRAVITY
  States
  {
  Spawn:
   TNT1 A 4
   FIR2 ABCDEFGHIJKLMN 2 BRIGHT
   TNT1 AAA 1 A_SpawnItemEx("BulletSmoke2", Random(-1,1), Random(-1,1), 0, 0, 0, 0, 0, 128, 64)
   stop
  }
}

actor BulletSpark Replaces BulletPuff
{
  spawnid 131
  renderstyle Add
  alpha 0.9
  +NOBLOCKMAP
  +NOGRAVITY
  -ALLOWPARTICLES
  +DONTSPLASH
  +FORCEXYBILLBOARD
  Scale 0.17
  states
  {
  Spawn:
	SPRK A 0
	SPRK A 0 A_SpawnItemEx("BulletSmoke", 0, 0, 0, 0, 0, 0, 0, 128, 0)
	SPRK A 0 A_SpawnItemEx("BulletHeat", 0, 0, 0, 0, 0, 0, 0, 128, 64)
	SPRK A 0 A_SpawnItemEx("Ricochet", 0, 0, 0, 0, 0, 0, 0, 128, 168)
	SPRK AAA 0 A_SpawnItemEx("Debris1", 0, 0, 0, Random(-1, 1), Random(-1, 1), Random(0, 2), Random(-360, 360), 128, 164)
	SPRK AAA 0 A_SpawnItemEx("Debris2", 0, 0, 0, Random(-1, 1), Random(-1, 1), Random(0, 2), Random(-360, 360), 128, 164)
	SPRK AAA 0 A_SpawnItemEx("Debris3", 0, 0, 0, Random(-1, 1), Random(-1, 1), Random(0, 2), Random(-360, 360), 128, 164)
	SPRK AAA 0 A_SpawnItemEx("Debris4", 0, 0, 0, Random(-1, 1), Random(-1, 1), Random(0, 2), Random(-360, 360), 128, 164)
	SPRK A 0 A_SpawnItemEx("Debris5", 0, 0, 0, Random(-1, 1), Random(-1, 1), Random(0, 2), Random(-360, 360), 128, 164)
	SPRK A 0 A_Jump(127, "Spawn2", "Spawn3", "Spawn4")
	SPRK ABCDE 1 bright
	stop
  Spawn2:
  	SPR2 ABCDE 1 bright
	stop
  Spawn3:
  	SPR3 ABCDE 1 bright
	stop
  Spawn4:
  	SPR4 ABCDE 1 bright
	stop
  Melee:
	PUFF CD 4
	stop
  }
}

actor Ricochet
{
 radius 1
 height 1
 +noclip
 +DONTSPLASH
 -ACTIVATEMCROSS
 -ACTIVATEPCROSS
 -ACTIVATEIMPACT
 States
 {
 Spawn:
  TNT1 A 0
  TNT1 A 1 A_PlaySound("Ricochet")
  stop
 }
}

actor Debris1
{
  Projectile
  Speed 3
  Height 1
  Radius 1
  Gravity 0.2
  RenderStyle Translucent
  Alpha 1.0
  -NOGRAVITY
  +DONTSPLASH
  -ACTIVATEMCROSS
  -ACTIVATEPCROSS
  -ACTIVATEIMPACT
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
   DEB1 ABCDEFGH 4
   DEB1 A 0 A_CheckFloor("Death")
   loop
  Death:
   TNT1 A 1
   stop
  }
}

actor Debris2
{
  Projectile
  Speed 3
  Height 1
  Radius 1
  Gravity 0.12
  RenderStyle Translucent
  Alpha 1.0
  -NOGRAVITY
  +DONTSPLASH
  -ACTIVATEMCROSS
  -ACTIVATEPCROSS
  -ACTIVATEIMPACT
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
   DEB2 ABCDEFGH 4
   DEB2 A 0 A_CheckFloor("Death")
   loop
  Death:
   TNT1 A 1
   stop
  }
}

actor Debris3
{
  Projectile
  Speed 3
  Height 1
  Radius 1
  Gravity 0.3
  RenderStyle Translucent
  Alpha 1.0
  -NOGRAVITY
  +DONTSPLASH
  -ACTIVATEMCROSS
  -ACTIVATEPCROSS
  -ACTIVATEIMPACT
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
   DEB3 ABCDEFGH 4
   DEB3 A 0 A_CheckFloor("Death")
   loop
  Death:
   TNT1 A 1
   stop
  }
}

actor Debris4
{
  Projectile
  Speed 3
  Height 1
  Radius 1
  Gravity 0.1
  RenderStyle Translucent
  Alpha 1.0
  -NOGRAVITY
  +DONTSPLASH
  -ACTIVATEMCROSS
  -ACTIVATEPCROSS
  -ACTIVATEIMPACT
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
   DEB4 ABCDEFGH 4
   DEB4 A 0 A_CheckFloor("Death")
   loop
  Death:
   TNT1 A 1
   stop
  }
}

actor Debris5
{
  Projectile
  Speed 3
  Height 1
  Radius 1
  Gravity 0.5
  RenderStyle Translucent
  Alpha 1.0
  -NOGRAVITY
  +DONTSPLASH
  -ACTIVATEMCROSS
  -ACTIVATEPCROSS
  -ACTIVATEIMPACT
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
   DEB5 ABCDEFGH 3
   DEB5 A 0 A_CheckFloor("Death")
   loop
  Death:
   TNT1 A 1
   stop
  }
}

actor LaserTrail
{
  Projectile
  Speed 1
  Radius 4
  Height 4
  Damage 0
  RenderStyle Add
  Alpha 0.75
  Scale 0.5
  +NOGRAVITY
  States
  {
  Spawn:
   PLSS AB 1 BRIGHT A_Fadeout
   loop
  Death:
   TNT1 A 1
   stop
  }
}

actor LaserSpark
{
  renderstyle Add
  alpha 0.9
  +NOBLOCKMAP
  +NOGRAVITY
  -ALLOWPARTICLES
  +DONTSPLASH
  +FORCEXYBILLBOARD
  Scale 0.17
  states
  {
  Spawn:
	SPRK A 0
	SPRK A 0 A_SpawnItemEx("BulletSmoke", 0, 0, 0, 0, 0, 0, 0, 128, 0)
	SPRK A 0 A_SpawnItemEx("BulletHeat", 0, 0, 0, 0, 0, 0, 0, 128, 64)
	SPRK AAA 0 A_SpawnItemEx("Debris1", 0, 0, 0, Random(-1, 1), Random(-1, 1), Random(0, 2), Random(-360, 360), 128, 164)
	SPRK AAA 0 A_SpawnItemEx("Debris2", 0, 0, 0, Random(-1, 1), Random(-1, 1), Random(0, 2), Random(-360, 360), 128, 164)
	SPRK AAA 0 A_SpawnItemEx("Debris3", 0, 0, 0, Random(-1, 1), Random(-1, 1), Random(0, 2), Random(-360, 360), 128, 164)
	SPRK AAA 0 A_SpawnItemEx("Debris4", 0, 0, 0, Random(-1, 1), Random(-1, 1), Random(0, 2), Random(-360, 360), 128, 164)
	SPRK A 0 A_SpawnItemEx("Debris5", 0, 0, 0, Random(-1, 1), Random(-1, 1), Random(0, 2), Random(-360, 360), 128, 164)
	SPRK A 0 A_Jump(127, "Spawn2", "Spawn3", "Spawn4")
	SPRK ABCDE 1 bright
	stop
  Spawn2:
  	SPR2 ABCDE 1 bright
	stop
  Spawn3:
  	SPR3 ABCDE 1 bright
	stop
  Spawn4:
  	SPR4 ABCDE 1 bright
	stop
  Melee:
	PUFF CD 4
	stop
  }
}

ACTOR LaserBeam : FastProjectile Replaces PlasmaBall
{
	Decal BulletChip
	Game Doom
	SpawnID 51
	Radius 4
	Height 4
	Speed 100
	Damage 2
	Projectile
	+RANDOMIZE
	+STRIFEDAMAGE
	+RIPPER
	RenderStyle Add
	Alpha 1.0
	Scale 0.5
	DeathSound "weapons/plasmax"
	Obituary "%o was fried by %k's laser."
	States
	{
	Spawn:
		PLSS AB 1 Bright A_SpawnItemEx("LaserTrail", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		Loop
	Death:
	Crash:
		TNT1 A 0
		TNT1 A 1 A_SpawnItemEx("LaserSpark", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		Stop
	XDeath:
		TNT1 A 0
		TNT1 A 1 A_SpawnItemEx("HitSpark", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		Stop
	}
}

ACTOR MoonrakerLaser : DoomWeapon Replaces PlasmaRifle
{
	Game Doom
	SpawnID 30
	Weapon.UpSound "LaserUp"
	Weapon.SelectionOrder 100
	Weapon.AmmoUse 0
	Weapon.AmmoType "None"
	+WEAPON.NOAUTOFIRE
	Inventory.PickupMessage "Moonraker Laser"
	States
	{
	Ready:
		MOON A 1 A_WeaponReady
		Loop
	Deselect:
		MOON A 1 A_Lower
		TNT1 A 0 A_Lower
		Loop
	Select:
		MOON A 1 A_Raise
		TNT1 A 0 A_Raise
		Loop
	Fire:
		MOON B 0 BRIGHT A_PlaySoundEx("weapons/plasmaf", "Auto", 0)
		MOON B 0 BRIGHT A_GunFlash
		MOON B 1 BRIGHT A_FireCustomMissile("LaserBeam", 0, 1, 7, 1, 0)
		MOON A 4
		MOON AAA 2 A_WeaponReady(WRF_NOBOB)
		MOON A 0 A_Refire
		Goto Ready
	Flash:
		NULL A 0 BRIGHT A_Jump(127, "Flash1", "Flash2")
		NULL A 2 BRIGHT A_Light1
		TNT1 A 0 Bright A_Light0
		stop
	Flash1:
		NULL B 2 BRIGHT A_Light1
		TNT1 A 0 Bright A_Light0
		stop
	Flash2:
		NULL C 2 BRIGHT A_Light1
		TNT1 A 0 Bright A_Light0
		stop
	Spawn:
		PLAS A -1
		Stop
	}
}

ACTOR MagnumClip : Ammo
{
Inventory.MaxAmount 6
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 6
Inventory.Icon "MAGNUM"
+INVENTORY.IGNORESKILL
}

ACTOR MagnumBullets : Ammo Replaces CellPack
{
	Game Doom
	SpawnID 142
	Inventory.PickupMessage "Picked up some Magnum Bullets."
	Inventory.Amount 6
	Inventory.MaxAmount 100
	Ammo.BackpackAmount 6
	Ammo.BackpackMaxAmount 200
	Inventory.Icon "MAGBA0"
	States
	{
	Spawn:
		MAGB A -1
		Stop
	}
}

ACTOR CougarMagnum : DoomWeapon 5012
{
	Decal BulletChip
	Weapon.UpSound "misc/w_pkup"
	SpawnID 164
	Radius 20
	Height 16
	Weapon.Selectionorder 100
	Weapon.AmmoUse1 1
	Weapon.AmmoGive1 6
	Weapon.AmmoGive2 6
	Weapon.AmmoType1 "MagnumClip"
	Weapon.AmmoType2 "MagnumBullets"
	Weapon.SisterWeapon "CougarMagnumPaintball"
	Inventory.Pickupmessage "Cougar Magnum"
	Obituary "%o bit %k's silver bullet."
	+WEAPON.AMMO_OPTIONAL
	+WEAPON.NOAUTOAIM
	States
	{
  Ready:
	COUG A 0 A_WeaponReady
	goto ReloadCheck
	COUG A 1 A_WeaponReady
	goto Ready+1

  ReloadCheck:
	 COUG A 0 A_JumpIfInventory("MagnumClip",6,2)
	 COUG A 0 A_JumpIfInventory("MagnumBullets",1,"ReloadStart")
	 COUG A 0
	 goto Ready+1

  ReloadStart:
	 COUR A 0 A_PlayWeaponSound("WeaponReload")
	 COUR ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

  ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("MagnumBullets",1)
	 TNT1 A 0 A_GiveInventory("MagnumClip",1)
	 TNT1 A 0 A_JumpIfInventory("MagnumClip",6,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("MagnumBullets",1,"ReloadAmmo")
	 goto ReloadDone

  ReloadDone:
	 TNT1 A 5
	 COUR GFEDCBA 1
	 goto Ready+1

	Deselect:
		COUG A 1 A_Lower
		TNT1 A 0 A_Lower
		loop
	Select:
		COUG A 1 A_Raise
		TNT1 A 0 A_Raise
		loop
	Fire:
		COUG A 0 A_JumpIfNoAmmo("ReloadCheck")
		COUG BC 3
		COUG D 0 A_GunFlash
		COUG D 0 A_FireBullets(0, 0, 1, 0, "BulletPuff")
		COUG D 1 BRIGHT A_RailAttack(38, 0, 0, none, none, 0, 0 , "BulletSpark")
		COUG EFGHIJ 2
		COUG A 5
		COUG A 0 A_ReFire
		goto Ready+1
	AltFire:
		COUG A 0
		goto ReloadCheck
	Flash:
		TNT1 A 0 Radius_Quake(1, 2, 0, 1, 0)
		TNT1 A 2 bright A_Light1
		TNT1 A 1 bright A_Light2
		TNT1 A 0 bright A_Light0
		stop
	Spawn:
		RAIL A -1
		stop
	}
}

actor CougarMagnumPaintball : CougarMagnum
{
	Decal PaintBallSplat
	Weapon.SisterWeapon "CougarMagnum"
	+WEAPON.POWERED_UP
}

ACTOR SniperClip : Ammo
{
	Inventory.MaxAmount 8 // size of the clip
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 8 //MUST be the same as Inventory.MaxAmmount
	Inventory.Icon "POINTBUL"
	+INVENTORY.IGNORESKILL
}

ACTOR SniperRifle : DoomWeapon 13532
{
	Decal BulletChip
	Weapon.UpSound "misc/w_pkup"
	Weapon.SelectionOrder 2000
	Weapon.AmmoUse 1
	Weapon.AmmoGive1 8
	Weapon.AmmoGive2 20
	Weapon.AmmoType "SniperClip"
	Weapon.AmmoType2 "PointedBullets"
	Weapon.SisterWeapon "SniperRiflePaintball"
	Obituary "%o was sniped by %k."
	+WEAPON.WIMPY_WEAPON
	//+WEAPON.ALLOW_WITH_RESPAWN_INVUL
	+WEAPON.AMMO_OPTIONAL
	Inventory.Pickupmessage "Sniper Rifle"
	Radius 20
	Height 16
	Attacksound "SniperFire"
	States
	{
	Ready:
	 SNIP A 0 A_WeaponReady
	 goto ReloadCheck
	 SNIP A 1 A_WeaponReady
	 goto Ready+1

	ReloadCheck:
	 SNIP A 0 A_JumpIfInventory("SniperClip",8,2)
	 SNIP A 0 A_JumpIfInventory("PointedBullets",1,"ReloadStart")
	 SNIP A 0
	 goto Ready+1

	ReloadStart:
	 SNIR A 0 A_PlayWeaponSound("WeaponReload")
	 SNIR ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

	ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("PointedBullets",1)
	 TNT1 A 0 A_GiveInventory("SniperClip",1)
	 TNT1 A 0 A_JumpIfInventory("SniperClip",8,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("PointedBullets",1,"ReloadAmmo")
	 goto ReloadDone

	ReloadDone:
	 TNT1 A 5
	 SNIR GFEDCBA 1
	 goto Ready+1

	Deselect:
		SNIP A 1 A_Lower
		TNT1 A 0 A_Lower
		Loop
	Select:
		SNIP A 1 A_Raise
		TNT1 A 0 A_Raise
		Loop
	SpawnTracer:
		SNIP B 0 A_FireCustomMissile("BulletTracer", 0, 0, 8, 1, 0, 0)
		goto Fire+2
	Fire:
		SNIP B 0 A_JumpIfNoAmmo("ReloadCheck")
		SNIP B 0 A_Jump(127, "SpawnTracer")
		SNIP B 1 BRIGHT A_FireBullets(0, 0, 1, 12, "BulletPuff")
		SNIP A 12 A_FireCustomMissile("PointedBulletCasing", Random(-40, -50), 0, 3, 6, 0)
		SNIP A 1 A_ReFire
		Goto Ready+1
	AltFire:
		TNT1 A 0
		goto ReloadCheck
	Spawn:
		SNPR A -1
		Stop
	}
}

actor SniperRiflePaintball : SniperRifle
{
	Decal PaintBallSplat
	Weapon.SisterWeapon "SniperRifle"
	+WEAPON.POWERED_UP
}

actor IrisTrail
{
 Radius 8
 Height 8
 Speed 0
 PROJECTILE
 States
 {
 Spawn:
   IRIS A 20
   stop
 Death:
   TNT1 A 0
   stop
 }
}

actor Iris
{
  Radius 8
  Height 8
  Speed 3
  SpawnID 255
  PROJECTILE
  States
  {
  Spawn:
	IRIS A 20 A_CustomMissile("IrisTrail", 0, 0, 0)
	loop
  Death:
	TNT1 A 0 ACS_Execute(2, 0)
	stop
  }
}

ACTOR GrenadeClip : Ammo
{
Inventory.MaxAmount 6 // size of the clip
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 6 //MUST be the same as Inventory.MaxAmmount
Inventory.Icon "GRENADE"
+INVENTORY.IGNORESKILL
}

actor GE64GrenadeLauncher : Weapon 5011
{
  Weapon.AmmoType "GrenadeClip"
  Weapon.AmmoType2 "GrenadeRounds"
  Weapon.AmmoGive 6
  Weapon.AmmoGive2 6
  Inventory.Pickupmessage "Grenade Launcher"
  Weapon.UpSound "misc/w_pkup"
  Obituary "%o was blown to smithereens by %k's grenade launcher."
  +WEAPON.AMMO_OPTIONAL
  +WEAPON.EXPLOSIVE
  States
  {
	Ready:
	GLAU A 0 A_WeaponReady
	goto ReloadCheck
	GLAU A 1 A_WeaponReady
	goto Ready+1

  ReloadCheck:
	 GLAU A 0 A_JumpIfInventory("GrenadeClip",6,2)
	 GLAU A 0 A_JumpIfInventory("GrenadeRounds",1,"ReloadStart")
	 GLAU A 0
	 goto Ready+1

  ReloadStart:
	 GLAR A 0 A_PlayWeaponSound("WeaponReload")
	 GLAR ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

  ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("GrenadeRounds",1)
	 TNT1 A 0 A_GiveInventory("GrenadeClip",1)
	 TNT1 A 0 A_JumpIfInventory("GrenadeClip",6,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("GrenadeRounds",1,"ReloadAmmo")
	 goto ReloadDone

  ReloadDone:
	 TNT1 A 5
	 GLAR GFEDCBA 1
	 goto Ready+1

	Deselect:
		GLAU A 1 A_Lower
		TNT1 A 0 A_Lower
		loop
	Select:
		GLAU A 1 A_Raise
		TNT1 A 0 A_Raise
		loop
	Hold: // Intentional Fall-Through
	Fire:
		GLAU A 0 A_JumpIfNoAmmo("ReloadCheck")
		GLAU B 4
		GLAU C 0 A_PlayWeaponSound("weapons/grenlf")
		GLAU C 0 A_GunFlash
		GLAU C 1 Bright A_FireCustomMissile("Grenade", 0, 1, 1, 9, 0)
		GLAU DEFGHI 2
		GLAU A 9
		GLAU A 0 A_ReFire
		goto Ready+1
	AltFire:
		GLAU A 0
		goto ReloadCheck
	Flash:
		TNT1 A 0 Bright Radius_Quake(1, 3, 0, 1, 0)
		TNT1 A 2 bright A_Light1
		TNT1 A 1 bright A_Light2
		TNT1 A 0 bright A_Light0
		stop
	Spawn:
		GRLN A -1
		stop
  }
}

actor RollingExplosion2
{
  Radius 1
  Height 1
  Speed 0
  Scale 1.25
  Obituary "%o was engulfed by the flames from %k's grenade."
  RenderStyle Translucent
  Alpha 0.9
  -SOLID
  +NOGRAVITY
  +NODAMAGETHRUST
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
   FIR2 ABCDEFGH 2 BRIGHT A_Explode(10, 56, 1)
   FIR2 IJKLMN 2 BRIGHT
   stop
  }
}

actor ExplosionSmoke2
{
  Projectile
  Radius 1
  Height 1
  Damage 0
  Speed 0
  Scale 0.6
  RenderStyle Translucent
  Alpha 0.3
  +NOCLIP
  +FORCEXYBILLBOARD
  States
  {
   Spawn:
   SMO2 ABCDEFGHIJKLMNOPQ 10
   stop
  }
}

actor GE64GrenadeTrail
{
  Projectile
  Radius 1
  Height 1
  Damage 0
  Speed 0
  Scale 0.08
  RenderStyle Add
  Alpha 0.6
  +NOCLIP
  States
  {
   Spawn:
   TNT1 A 0
   TNT1 A 2
   SMOK ABCDEFGHIJKLMNOPQ 1
   stop
  }
}

actor GE64Grenade Replaces Grenade
{
  Radius 8
  Height 8
  PROJECTILE
  Speed 25
  Damage 10
  BounceCount 3
  BounceFactor 0.5
  Gravity 0.6
  DamageType Grenade
  +HEXENBOUNCE
  -NOGRAVITY
  SeeSound "weapons/grbnce"
  States
  {
  Spawn:
	SGRN A 0
	SGRN A 0 Thing_ChangeTID(0, 255)
	SGRN A 0 ThrustThingZ(0, 25, 0, 1)
	SGRN A 0 A_StopSound
	SGRN A 1 A_SpawnItemEx("GE64GrenadeTrail", Random(-2,2), Random(-2,2), Random(-2,2), 0, 0, 0, 0, 128, 0)
	goto Spawn+4
  Death:
	MISL B 0 bright A_Explode(64, 128, 1)
	MISL B 0 A_NoGravity
	TNT1 A 0 radius_quake(2, 10, 0, 3, 0)
	TNT1 A 0 A_PlaySoundEx("world/barrelx", "Auto", 0)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris1", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-5, 5), Random(-5, 5), Random(-6, 7), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris2", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-5, 5), Random(-5, 5), Random(-6, 7), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris3", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-5, 5), Random(-5, 5), Random(-6, 7), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris4", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-5, 5), Random(-5, 5), Random(-6, 7), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris5", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-5, 5), Random(-5, 5), Random(-6, 7), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris1", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-3, 3), Random(-3, 3), Random(1, 6), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris2", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-3, 3), Random(-3, 3), Random(1, 6), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris3", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-3, 3), Random(-3, 3), Random(1, 6), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris4", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-3, 3), Random(-3, 3), Random(1, 6), Random(-360, 360), 128, 24)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris5", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-3, 3), Random(-3, 3), Random(1, 6), Random(-360, 360), 128, 24)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion2", 0, 0, 0, 0, 0, 0, 0, 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion2", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion2", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion2", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion2", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion2", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion2", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion2", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion2", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
	TNT1 A 3 A_SpawnItemEx ("RollingExplosion2", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	TNT1 AAAAAAA 5 A_SpawnItemEx ("RollingExplosion2", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
	stop
  }
}

ACTOR Knives : Ammo 16701
{
 Inventory.MaxAmount 11
 Ammo.BackpackAmount 0
 Ammo.BackpackMaxAmount 22
 Inventory.Icon "KNIFE"
 Inventory.PickupMessage "Throwing Knife"
 Inventory.PickupSound "KnifeUp"
 Scale 0.5
 +INVENTORY.ALWAYSPICKUP
 +INVENTORY.IGNORESKILL
 States
 {
	Spawn:
		TKNP A -1
		loop
 }
}

ACTOR HuntingKnife : Weapon
{
	Radius 8
	Height 8
	Weapon.SelectionOrder 3700
	Weapon.Kickback 60
	Obituary "%o was Shanked by %k"
	AttackSound "KnifeHit"
	Inventory.PickupMessage "Throwing Knife"
	Inventory.PickupSound "KnifeUp"
	Weapon.UpSound "KnifeUp"
	Weapon.AmmoType "Knives"
	Weapon.AmmoUse 0
	Weapon.AmmoGive 1
	Scale 0.5
	+INVENTORY.ALWAYSPICKUP
	+WEAPON.WIMPY_WEAPON
	+WEAPON.MELEEWEAPON
	//+WEAPON.ALLOW_WITH_RESPAWN_INVUL
	States
	{
	Ready:
		KNIF A 1 A_WeaponReady
		Loop
	Deselect:
		KNIF A 1 A_Lower
		TNT1 A 0 A_Lower
		TNT1 A 0 A_Lower
		Loop
	Select:
		KNIF A 1 A_Raise
		TNT1 A 0 A_Raise
		TNT1 A 0 A_Raise
		Loop
	Fire:
		KNIF BC 2
		KNIF D 1
		KNIF F 0 A_Recoil(-4)
		KNIF E 2 A_PlayWeaponSound("KnifeSwing")
		KNIF F 1 A_CustomPunch (16, 0, 0, "BulletSpark", 70)
		KNIF GH 1
		TNT1 A 14
		KNIF HG 1
		KNIF A 3
		KNIF A 0 A_ReFire
		Goto Ready
	Altfire:
		KNIF A 0 A_JumpIfInventory("Knives", 2, 1)
		goto Ready
		KNIF A 1 A_SelectWeapon("ThrowingKnives")
		goto Ready
	Spawn:
		TKNP A 0
		TKNP A 0 A_SpawnItem("Knives", 8)
		stop
	}
}

actor RollingExplosion4
{
  Radius 1
  Height 1
  Speed 0
  Obituary "%o didn't know the prop %g shot was loaded with C4."
  RenderStyle Translucent
  Alpha 0.9
  -SOLID
  +NOGRAVITY
  +NODAMAGETHRUST
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
   FIR2 ABCDEFGH 2 BRIGHT A_Explode(2, 18, 1)
   FIR2 IJKLMN 2 BRIGHT
   stop
  }
}

ACTOR HangingMonitor 19992
{
	Game Doom
	Health 60
	Radius 16
	Height 68
	Mass 9999999
	Obituary "%o didn't know the Monitor %g shot was loaded with C4."
	+SOLID
	+NOGRAVITY
	+NOBLOOD
	+SHOOTABLE
	+SPAWNCEILING
	States
	{
	Spawn:
	  HMON ABC 6
	  Loop
	Death:
	  MISL B 0 A_Playsound("world/barrelx")
	  MISL B 0 bright A_Explode(16, 48, 0)
	  MISL B 0 A_NoGravity
	  MISL B 0 A_NoBlocking
	  TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris1", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(0, 5), Random(0, 5), Random(0, 5), Random(-360, 360), 128, 24)
	  TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris2", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(0, 5), Random(0, 5), Random(0, 5), Random(-360, 360), 128, 24)
	  TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris3", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(0, 5), Random(0, 5), Random(0, 5), Random(-360, 360), 128, 24)
	  TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris4", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(0, 5), Random(0, 5), Random(0, 5), Random(-360, 360), 128, 24)
	  TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Debris5", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(0, 5), Random(0, 5), Random(0, 5), Random(-360, 360), 128, 24)
	  TNT1 A 3 A_SpawnItemEx ("RollingExplosion4", 0, 0, 0, 0, 0, 0, 0, 0, 0)
	  TNT1 AAAAAAAAA 3 A_SpawnItemEx ("RollingExplosion4", Random(-16, 16), Random(-16, 16), Random(0, 24), 0, 0, 0, Random(-360, 360), 0, 0)
	  TNT1 AAAAAAA 5 A_SpawnItemEx ("RollingExplosion4", Random(-16, 16), Random(-16, 16), Random(0, 24), 0, 0, 0, Random(-360, 360), 0, 0)
	  NULL A 6300
	  TNT1 A 0 A_SpawnItem("TeleportFog")
	  TNT1 A 0 A_SpawnItem("HangingMonitor")
	  stop
	}
}

ACTOR RCP90Clip : Ammo
{
Inventory.MaxAmount 80 // size of the clip
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 80 //MUST be the same as Inventory.MaxAmmount
Inventory.Icon ICONBULL
+INVENTORY.IGNORESKILL
}

actor RCP90 : Weapon 5013
{
  Obituary "%o was ripped apart by %k's RC-P90."
  Weapon.Ammotype1 "RCP90Clip"
  Weapon.Ammotype2 "9mmBullets"
  Decal BulletChip
  Weapon.UpSound "misc/w_pkup"
  Weapon.ReadySound ""
  Inventory.Pickupmessage "RC-P90"
  AttackSound "RCP90Fire"
  Weapon.Selectionorder 2
  Weapon.AmmoUse1 1
  Weapon.AmmoGive1 80
  Weapon.AmmoGive2 40
  Weapon.SisterWeapon "RCP90Paintball"
  -WEAPON.NOAUTOFIRE
  -WEAPON.NOLMS
  +WEAPON.BFG
  +WEAPON.AMMO_OPTIONAL
  States
  {
  Ready:
	RCP9 A 0 A_WeaponReady
	goto ReloadCheck
	RCP9 A 1 A_WeaponReady
	goto Ready+1

  ReloadCheck:
	 RCP9 A 0 A_JumpIfInventory("RCP90Clip",80,2)
	 RCP9 A 0 A_JumpIfInventory("9mmBullets",1,"ReloadStart")
	 RCP9 A 0
	 goto Ready+1

  ReloadStart:
	 RCPR A 0 A_PlayWeaponSound("WeaponReload")
	 RCPR ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

  ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("9mmBullets",1)
	 TNT1 A 0 A_GiveInventory("RCP90Clip",1)
	 TNT1 A 0 A_JumpIfInventory("RCP90Clip",80,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("9mmBullets",1,"ReloadAmmo")
	 goto ReloadDone

  ReloadDone:
	 TNT1 A 5
	 RCPR GFEDCBA 1
	 goto Ready+1

	Deselect:
		RCP9 A 1 A_Lower
		TNT1 A 0 A_Lower
		loop
	Select:
		RCP9 A 1 A_Raise
		TNT1 A 0 A_Raise
		loop
	SpawnTracer1:
		RCP9 A 0 A_FireCustomMissile("BulletTracer", random(-4,4), 0, 7, 0, 0, random(-4,4))
		goto Fire+4
	SpawnTracer2:
		RCP9 A 0 A_FireCustomMissile("BulletTracer", random(-4,4), 0, 7, 0, 0, random(-4,4))
		goto FireRandom+3
	Hold: // Intentional Fall-Through
	Fire:
		RCP9 A 0 A_JumpIfNoAmmo("ReloadCheck")
		RCP9 B 0 A_Jump(128, "FireRandom")
		RCP9 A 1
		RCP9 A 0 A_Jump(56, "SpawnTracer1")
		RCP9 A 0 A_GunFlash
		RCP9 B 1 BRIGHT A_FireBullets(6, 6, 1, 6, "BulletPuff")
		RCP9 D 0 A_FireCustomMissile("BulletCasing", Random(-40, -50), 0, 1, 6, 0)
		RCP9 D 0 A_Refire
		RCP9 D 1
		RCP9 EFG 3
		goto Ready+1
	FireRandom:
		RCP9 A 2
		RCP9 A 0 A_Jump(56, "SpawnTracer2")
		RCP9 A 0 A_GunFlash
		RCP9 C 1 BRIGHT A_FireBullets(6, 6, 1, 6, "BulletPuff")
		RCP9 D 0 A_FireCustomMissile("BulletCasing", Random(-40, -50), 0, 1, 6, 0)
		RCP9 D 0 A_Refire
		RCP9 D 1
		RCP9 EFG 3
		goto Ready+1
	AltFire:
		RCP9 A 0
		goto ReloadCheck
	Flash:
		TNT1 A 2 bright A_Light1
		TNT1 A 1 bright A_Light2
		TNT1 A 0 bright A_Light0
		stop
	Spawn:
		RCPP A -1
		stop
  }
}

actor RCP90Paintball : RCP90
{
	Decal PaintBallSplat
	Weapon.SisterWeapon "RCP90"
	+WEAPON.POWERED_UP
}

ACTOR Tazer : Weapon Replaces Chainsaw
{
	Weapon.SelectionOrder 5700
	Weapon.Kickback 00
	Obituary "%o sez: Don't taze me %k!"
	Weapon.AmmoType "None"
	Weapon.AmmoType2 "None"
	Weapon.AmmoUse1 0
	Weapon.AmmoUse2 0
	Inventory.PickupMessage "Tazer"
	+WEAPON.WIMPY_WEAPON
	+WEAPON.MELEEWEAPON
	//+WEAPON.ALLOW_WITH_RESPAWN_INVUL
	Scale 0.5
	States
	{
	Ready:
		TAZE A 1 A_WeaponReady
		Loop
	Deselect:
		TAZE A 1 A_Lower
		TNT1 A 0 A_Lower
		TNT1 A 0 A_Lower
		Loop
	Select:
		TAZE A 1 A_Raise
		TNT1 A 0 A_Raise
		TNT1 A 0 A_Raise
		Loop
	Fire:
		TAZE BCDEF 2
		TAZE G 0 A_PlayWeaponSound("Tazer")
		TAZE G 0 A_Recoil(-1)
		TAZE GGGG 1 A_CustomPunch (3, 1, 0, "TazerZap", 126)
		TAZE G 2 A_CustomPunch (3, 1, 0, "TazerZap", 126)
		TAZE HIJ 2
		TAZE A 10
		TAZE A 0 A_ReFire
		Goto Ready
	Altfire:
		KNIF A 1 A_SelectWeapon("HuntingKnife")
		goto Ready
	Spawn:
		TAZP A -1
		loop
	}
}

actor TazerZap
{
  renderstyle Add
  alpha 0.9
  +NOBLOCKMAP
  +NOGRAVITY
  -ALLOWPARTICLES
  +PUFFONACTORS
  DamageType Taze
  States
  {
  Spawn:
   TZOT ABCD 1 BRIGHT
   stop
  }
}

Actor BodyArmor1 : BasicArmorPickup // Replaces BlueArmor
{
	Game Doom
	SpawnID 69
	Radius 20
	Height 16
	Scale 0.85
	Inventory.Pickupmessage "Body Armor"
	Inventory.Icon "ARM2A0"
	Armor.Savepercent 99.9999
	Armor.Saveamount 100
	States
	{
	Spawn:
		ARM2 A -1
		loop
	}
}

actor BodyArmorPickup : CustomInventory Replaces BlueArmor
{
  Radius 20
  Height 16
  Scale 0.85
  inventory.pickupmessage "Body Armor"
  inventory.pickupsound "misc/armor_pkup"
  +INVENTORY.AUTOACTIVATE
  states
  {
  Spawn:
	ARM2 A -1
	loop
  Use:
  	TNT1 A 0 A_GiveInventory("DamageDummy", 1)
  	stop
  Pickup:
    TNT1 A 0 A_GiveInventory("BodyArmor1", 1)
    stop
  }
}

actor StimpackPickup : CustomInventory Replaces Stimpack
{
  inventory.pickupmessage "Health Boost +10"
  Inventory.PickupSound "misc/health_pkup"
  +INVENTORY.AUTOACTIVATE
  states
  {
  Spawn:
	STIM A -1
	loop
  Use:
  	TNT1 A 0 A_GiveInventory("DamageDummy", 1)
  	stop
  Pickup:
    TNT1 A 0 A_GiveInventory("Health", 10)
    stop
  }
}

actor MedikitPickup : CustomInventory Replaces Medikit
{
  inventory.pickupmessage "Health Boost +20"
  Inventory.PickupSound "misc/health_pkup"
  +INVENTORY.AUTOACTIVATE
  states
  {
  Spawn:
	MEDI A -1
	loop
  Use:
  	TNT1 A 0 A_GiveInventory("DamageDummy", 1)
  	stop
  Pickup:
    TNT1 A 0 A_GiveInventory("Health", 20)
    stop
  }
}

// *************************************************

ACTOR DD44Clip : Ammo
{
Inventory.MaxAmount 8 // size of the clip
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 8 //MUST be the same as Inventory.MaxAmmount
Inventory.Icon ICONBULL
+INVENTORY.IGNORESKILL
}

ACTOR PistolAccuracy : Inventory
{
   Inventory.Amount 1
   Inventory.MaxAmount 8
   -INVBAR
}

actor DD44 : Weapon 13200
{
  Decal BulletChip
  obituary "%o was pistol-raped by %k."
  attacksound "DD44Fire"
  Inventory.PickupSound "misc/w_pkup"
  Inventory.PickupMessage "DD44 Destovei"
  Weapon.UpSound "misc/w_pkup"
  Weapon.AmmoType1 "DD44Clip"
  Weapon.AmmoType2 "9mmBullets"
  Weapon.AmmoGive1 0
  Weapon.AmmoGive2 20
  Weapon.AmmoUse1 1
  Weapon.SisterWeapon "DD44Paintball"
  weapon.selectionorder 2900
  +WEAPON.WIMPY_WEAPON
  +WEAPON.NOAUTOFIRE
  +WEAPON.AMMO_OPTIONAL
  states
  {
  Ready:
	DD44 A 0 A_WeaponReady
	goto ReloadCheck
	DD44 AA 1 A_WeaponReady
	DD44 A 0 A_TakeInventory("PistolAccuracy", 1)
	goto Ready+1
  Deselect:
	DD44 A 1 A_Lower
	DD44 A 0 A_Lower
	DD44 A 0 A_TakeInventory("PistolAccuracy", 100)
	loop
  Select:
	DD44 A 1 A_Raise
	DD44 A 0 A_Raise
	loop


	ReloadCheck:
	 DD44 A 0 A_JumpIfInventory("DD44Clip",8,2)
	 DD44 A 0 A_JumpIfInventory("9mmBullets",1,"ReloadStart")
	 DD44 A 0
	 goto Ready+1

	ReloadStart:
	 DD4R A 0 A_PlayWeaponSound("WeaponReload")
	 DD4R A 0 A_TakeInventory("PistolAccuracy", 2)
	 DD4R ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

	ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("9mmBullets",1)
	 TNT1 A 0 A_GiveInventory("DD44Clip",1)
	 TNT1 A 0 A_JumpIfInventory("DD44Clip",8,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("9mmBullets",1,"ReloadAmmo")
	 goto ReloadDone

	ReloadDone:
	 TNT1 A 5
	 DD4R GFEDCBA 1
	 goto Ready+1

  Fire:
	DD44 A 0 A_JumpIfNoAmmo("ReloadCheck")
	DD44 B 0 BRIGHT A_Gunflash
	DD44 B 0 A_JumpIfInventory("PistolAccuracy", 8, "FireAccuracy8")
	DD44 B 0 A_JumpIfInventory("PistolAccuracy", 7, "FireAccuracy7")
	DD44 B 0 A_JumpIfInventory("PistolAccuracy", 6, "FireAccuracy6")
	DD44 B 0 A_JumpIfInventory("PistolAccuracy", 5, "FireAccuracy5")
	DD44 B 0 A_JumpIfInventory("PistolAccuracy", 4, "FireAccuracy4")
	DD44 B 0 A_JumpIfInventory("PistolAccuracy", 3, "FireAccuracy3")
	DD44 B 0 A_JumpIfInventory("PistolAccuracy", 2, "FireAccuracy2")
	DD44 B 0 A_JumpIfInventory("PistolAccuracy", 1, "FireAccuracy1")
	goto FireAccuracy0

  FireAccuracy0:
	DD44 B 1 BRIGHT A_FireBullets (1, 0, -1, 7, "BulletPuff")
	DD44 B 0 A_GiveInventory("PistolAccuracy", 1)
	goto FireDone

  FireAccuracy1:
	DD44 B 1 BRIGHT A_FireBullets (1, 1.2, -1, 6, "BulletPuff")
	DD44 B 0 A_GiveInventory("PistolAccuracy", 1)
	goto FireDone

  FireAccuracy2:
	DD44 B 1 BRIGHT A_FireBullets (2, 1.5, -1, 6, "BulletPuff")
	DD44 B 0 A_GiveInventory("PistolAccuracy", 1)
	goto FireDone

  FireAccuracy3:
	DD44 B 1 BRIGHT A_FireBullets (2, 2, -1, 6, "BulletPuff")
	DD44 B 0 A_GiveInventory("PistolAccuracy", 1)
	goto FireDone

  FireAccuracy4:
	DD44 B 1 BRIGHT A_FireBullets (2, 2.2, -1, 6, "BulletPuff")
	DD44 B 0 A_GiveInventory("PistolAccuracy", 1)
	goto FireDone

  FireAccuracy5:
	DD44 B 1 BRIGHT A_FireBullets (2, 2.5, -1, 6, "BulletPuff")
	DD44 B 0 A_GiveInventory("PistolAccuracy", 1)
	goto FireDone

  FireAccuracy6:
	DD44 B 1 BRIGHT A_FireBullets (3, 3, -1, 6, "BulletPuff")
	DD44 B 0 A_GiveInventory("PistolAccuracy", 1)
	goto FireDone

  FireAccuracy7:
	DD44 B 1 BRIGHT A_FireBullets (3, 3.2, -1, 6, "BulletPuff")
	DD44 B 0 A_GiveInventory("PistolAccuracy", 1)
	goto FireDone

 FireAccuracy8:
	DD44 B 1 BRIGHT A_FireBullets (3, 3.5, -1, 6, "BulletPuff")
	DD44 B 0 A_GiveInventory("PistolAccuracy", 1)
	goto FireDone

  FireDone:
	DD44 B 0 A_FireCustomMissile ("BulletCasing", Random(-40, -50), 0, 1, 7, 0)
	DD44 C 2 BRIGHT
	DD44 D 2 A_WeaponReady(WRF_NOBOB)
	DD44 E 2 A_WeaponReady(WRF_NOBOB)
	DD44 F 2 A_WeaponReady(WRF_NOBOB)
	DD4R A 0 A_TakeInventory("PistolAccuracy", 2)
	DD44 G 2 A_WeaponReady(WRF_NOBOB)
	DD44 A 2 A_WeaponReady
	DD44 A 0 A_Refire
	goto Ready+1

  Altfire:
	DD44 A 0
	goto ReloadCheck

  Flash:
	TNT1 A 2 bright A_Light1
	TNT1 A 0 bright A_Light0
	stop

  Spawn:
	DD4P A -1
	loop
  }
}

actor DD44Paintball : DD44
{
	Decal PaintBallSplat
	Weapon.SisterWeapon "DD44"
	+WEAPON.POWERED_UP
}

actor ThrownKnife
{
 Projectile
 Radius 8
 Height 8
 Damage 16
 Speed 42
 Scale 0.5
 Obituary "%o gets a throwing knife up %p ass by %k."
 BounceCount 3
 SeeSound "KnifeBounce"
 +HEXENBOUNCE
 +BLOODSPLATTER
 -BLOODLESSIMPACT
 States
 {
 Spawn:
  TKNI A 0
  TKNI A 0 A_StopSound
  TKNI A 0 Thing_ChangeTID(0, 255)
  TKNI ABCD 2
  TKNI EFGH 2 A_Gravity
  TKNI A 0 A_PlaySound("KnifeSwing")
  TKNI A 0
  goto Spawn+3
 Death:
  TNT1 A 0
  TNT1 A 0 A_SpawnItem("HuntingKnife", 8)
  stop
 XDeath:
  TNT1 A 0
  TNT1 A 0 A_PlaySound("FleshHit")
  TNT1 A 0 A_SpawnItem("Knives", 8)
  stop
 }
}

ACTOR ThrowingKnives : Weapon
{
	Weapon.SelectionOrder 3600
	Weapon.Kickback 60
	Obituary "%o gets a throwing knife up %p ass by %k."
	Inventory.PickupMessage "Throwing Knife"
	Inventory.PickupSound "KnifeUp"
	Weapon.UpSound "KnifeUp"
	Weapon.AmmoType "Knives"
	Weapon.AmmoUse 1
	Weapon.AmmoGive 1
	Scale 0.5
	+WEAPON.WIMPY_WEAPON
	+WEAPON.NOAUTOAIM
	+INVENTORY.ALWAYSPICKUP
	//+WEAPON.ALLOW_WITH_RESPAWN_INVUL
	States
	{
	Ready:
		THRO A 1 A_WeaponReady
		Loop
	Deselect:
		THRO A 1 A_Lower
		TNT1 A 0 A_Lower
		TNT1 A 0 A_Lower
		Loop
	Select:
		THRO A 1 A_Raise
		TNT1 A 0 A_Raise
		TNT1 A 0 A_Raise
		Loop
	Fire:
		THRO A 1 A_JumpIfInventory("Knives", 2, "KnifeThrow")
		THRO A 1 A_SelectWeapon("HuntingKnife")
		goto Ready
	KnifeThrow:
		THRO BCD 3
		TNT1 A 0 A_PlayWeaponSound("KnifeSwing")
		TNT1 A 8 A_FireCustomMissile("ThrownKnife", 0, 1, 4, 0, 0)
		THRO EFGH 2
		THRO A 4
		THRO A 0 A_ReFire
		Goto Ready
	Altfire:
		THRO A 1 A_SelectWeapon("HuntingKnife")
		goto Ready
	Spawn:
		TKNP A 0
		TKNP A 0 A_SpawnItem("Knives", 8)
		stop
	}
}

actor BulletSmoke
{
  Projectile
  Radius 1
  Height 1
  Damage 0
  Speed 0
  Scale 0.06
  RenderStyle Add
  Alpha 0.8
  +NOCLIP
  States
  {
   Spawn:
   SMOK A 0
   SMOK A 0 ThrustThingZ(0, 1, 0, 0)
   SMOK ABCDEFGHIJKLMNOPQ 2
   stop
  }
}

actor BulletSmoke2 : BulletSmoke
{
  Alpha 0.2
  States
  {
   Spawn:
   SMOK ABCDEFGHIJKLMNOPQ 3
   stop
  }
}

actor GEBlood : Blood Replaces Blood
{
  States
  {
  Spawn:
   TNT1 AAA 0
   TNT1 A 0 A_PlaySound("FleshHit")
   TNT1 AA 0 A_SpawnItemEx("Bloodsplatter", 0, 0, 0, Random(-2,2), Random(-2,2), Random(-1,1), Random(-360, 360), 129, 0)
   TNT1 AA 1
   stop
  }
}

actor BloodSplatterTrail
{
 Radius 1
 Height 1
 Speed 0
 RenderStyle Translucent
 Alpha 0.9
 Scale 0.3
 +NOCLIP
 States
 {
  Spawn:
   BLUD CBA 2
   stop
 }
}

actor Bloodsplatterscaled : Bloodsplatter Replaces BloodSplatter
{
 Scale 0.5
 RenderStyle Translucent
 Alpha 0.9
 +CORPSE
 +NOCLIP
 -NOGRAVITY
 States
 {
  Spawn:
   BLUD C 0
   BLUD CCCC 1 A_SpawnItemEx("BloodsplatterTrail", 0, 0, 0, 0, 0, 0, 0, 129, 0)
   BLUD BBBB 1 A_SpawnItemEx("BloodsplatterTrail", 0, 0, 0, 0, 0, 0, 0, 129, 0)
   BLUD AAAA 1 A_SpawnItemEx("BloodsplatterTrail", 0, 0, 0, 0, 0, 0, 0, 129, 0)
   stop
  Crash:
   BLUD E 0 A_SpawnItemEx("BloodsplatterPool", 0, 0, 0, 0, 0, 0, 0, 129, 0)
   stop
 }
}

actor BloodSplatterPool
{
 Radius 1
 Height 1
 Speed 0
 RenderStyle Translucent
 Alpha 0.7
 Scale 0.4
 +NOCLIP
 States
 {
  Spawn:
   BLUD E 700
   BLUD E 5 A_FadeOut
   goto Spawn+1
 }
}

ACTOR KF7Clip : Ammo
{
Inventory.MaxAmount 30 // size of the clip
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 30 //MUST be the same as Inventory.MaxAmmount
Inventory.Icon "POINTBUL"
+INVENTORY.IGNORESKILL
}

ACTOR PointedBullets : Ammo 16532
{
 Inventory.PickupMessage "Picked up some Pointed Bullets."
 Inventory.Amount 30
 Inventory.MaxAmount 200
 Ammo.BackpackAmount 0
 Ammo.BackpackMaxAmount 400
 Inventory.Icon ICONBULL
 States
 {
 Spawn:
  PAMO A -1
  loop
 }
}

actor KF7Soviet : Weapon 18212
{
  Obituary "%o was riddled by %k's KF7 Soviet."
  Weapon.Ammotype1 "KF7Clip"
  Weapon.Ammotype2 "PointedBullets"
  Decal BulletChip
  Weapon.UpSound "misc/w_pkup"
  Inventory.Pickupmessage "KF7 Soviet"
  AttackSound "KF7Fire"
  Weapon.Selectionorder 650
  Weapon.AmmoUse1 1
  Weapon.AmmoGive1 30
  Weapon.AmmoGive2 30
  Weapon.SisterWeapon "KF7SovietPaintball"
  -WEAPON.NOAUTOFIRE
  +WEAPON.AMMO_OPTIONAL
  States
  {
  Ready:
	KF7S A 0 A_WeaponReady
	goto ReloadCheck
	KF7S A 1 A_WeaponReady
	goto Ready+1

  ReloadCheck:
	 KF7S A 0 A_JumpIfInventory("KF7Clip",30,2)
	 KF7S A 0 A_JumpIfInventory("PointedBullets",1,"ReloadStart")
	 KF7S A 0
	 goto Ready+1

  ReloadStart:
	 KF7R A 0 A_PlayWeaponSound("WeaponReload")
	 KF7R ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

  ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("PointedBullets",1)
	 TNT1 A 0 A_GiveInventory("KF7Clip",1)
	 TNT1 A 0 A_JumpIfInventory("KF7Clip",30,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("PointedBullets",1,"ReloadAmmo")
	 goto ReloadDone

  ReloadDone:
	 TNT1 A 5
	 KF7R GFEDCBA 1
	 goto Ready+1

	Deselect:
		KF7S A 1 A_Lower
		TNT1 A 0 A_Lower
		loop
	Select:
		KF7S A 1 A_Raise
		TNT1 A 0 A_Raise
		loop
	SpawnTracer:
		KF7S A 0 A_FireCustomMissile("BulletTracer", random(-2,2), 0, 7, 0, 0, random(-2,2))
		goto Fire+2
	Hold: // Intentional Fall-Through
	Fire:
		KF7S A 0 A_JumpIfNoAmmo("ReloadCheck")
		KF7S A 0 A_Jump(56, "SpawnTracer")
		KF7S A 0 A_GunFlash
		KF7S B 0 A_Jump(128, "FireRandom")
		KF7S B 1 BRIGHT A_FireBullets(4, 2, 1, 6, "BulletPuff")
		KF7S D 0 A_FireCustomMissile("PointedBulletCasing", Random(-40, -50), 0, 3, 6, 0)
		KF7S A 2
		KF7S D 0 A_Refire
		KF7S DEF 3
		goto Ready+1
	FireRandom:
		KF7S C 2 BRIGHT A_FireBullets(4, 2, 1, 6, "BulletPuff")
		goto Fire+5
	AltFire:
		KF7S A 0
		goto ReloadCheck
	Flash:
		TNT1 A 2 bright A_Light1
		TNT1 A 1 bright A_Light2
		TNT1 A 0 bright A_Light0
		stop
	Spawn:
		KF7P A -1
		stop
  }
}

actor KF7SovietPaintball : KF7Soviet
{
	Decal PaintBallSplat
	Weapon.SisterWeapon "KF7Soviet"
	+WEAPON.POWERED_UP
}

actor ForestTree1 11100
{
height 128
radius 16
+SOLID
States
{
Spawn:
1TRE A -1
loop
}
}

actor BigSatellite 19731
{
height 156
radius 128
Scale 3.0
+SOLID
States
{
Spawn:
SATT A -1
loop
}
}


ACTOR CycloneClip : Ammo
{
Inventory.MaxAmount 50 // size of the clip
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 50 //MUST be the same as Inventory.MaxAmmount
Inventory.Icon ICONBULL
+INVENTORY.IGNORESKILL
}

ACTOR CycloneCell : Ammo 16552
{
 Inventory.PickupMessage "Picked up some Cyclone Cells."
 Inventory.Amount 50
 Inventory.MaxAmount 200
 Ammo.BackpackAmount 0
 Ammo.BackpackMaxAmount 400
 Scale 0.6
 Inventory.Icon ICONBULL
 States
 {
 Spawn:
  CCEL A -1
  loop
 }
}

actor PD_Cyclone : Weapon 18244
{
  Obituary "%o was vaporized by %k's cyclone."
  Weapon.Ammotype1 "CycloneClip"
  Weapon.Ammotype2 "CycloneCell"
  Decal BulletChip
  Weapon.UpSound "misc/w_pkup"
  Inventory.Pickupmessage "Cyclone"
  AttackSound "CycloneFire"
  Weapon.Selectionorder 550
  Weapon.AmmoUse1 1
  Weapon.AmmoGive1 50
  Weapon.AmmoGive2 50
  Scale 0.9
  -WEAPON.NOAUTOFIRE
  +WEAPON.AMMO_OPTIONAL
  States
  {
  Ready:
	CYCL A 0 A_WeaponReady
	goto ReloadCheck
	CYCL A 1 A_WeaponReady
	goto Ready+1

  ReloadCheck:
	 CYCL A 0 A_JumpIfInventory("CycloneClip",50,2)
	 CYCL A 0 A_JumpIfInventory("CycloneCell",1,"ReloadStart")
	 CYCL A 0
	 goto Ready+1

  ReloadStart:
	 CYCR A 0 A_PlayWeaponSound("CycloneReload")
	 CYCR ABCDEF 3
	 goto ReloadAmmo

  ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("CycloneCell",1)
	 TNT1 A 0 A_GiveInventory("CycloneClip",1)
	 TNT1 A 0 A_JumpIfInventory("CycloneClip",50,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("CycloneCell",1,"ReloadAmmo")
	 goto ReloadDone

  ReloadDone:
	 CYCR GHIJK 3
	 goto Ready+1

	Deselect:
		CYCL A 1 A_Lower
		TNT1 A 0 A_Lower
		loop
	Select:
		CYCL A 1 A_Raise
		TNT1 A 0 A_Raise
		loop
	Hold: // Intentional Fall-Through
	Fire:
		CYCL A 0 A_JumpIfNoAmmo("ReloadCheck")
		CYCL A 0 A_GunFlash
		CYCL B 0 A_Jump(128, "FireRandom")
		CYCL B 1 BRIGHT A_FireCustomMissile("CyclonePlasma", Random(-1,1), 1, 11, -2, 0, Random(-1,1))
		CYCL A 2
		CYCL D 0 A_Refire
		CYCL DEF 3
		goto Ready+1
	FireRandom:
		CYCL C 1 BRIGHT A_FireCustomMissile("CyclonePlasma", Random(-1,1), 1, 11, -2, 0, Random(-1,1))
		goto Fire+4
	AltFire:
		CYCL A 0
		goto ReloadCheck
	Flash:
		TNT1 A 2 bright A_Light1
		TNT1 A 1 bright A_Light2
		TNT1 A 0 bright A_Light0
		stop
	Spawn:
		CYCP A -1
		stop
  }
}

actor CyclonePlasma : FastProjectile
{
 Projectile
 Speed 140
 Damage 3
 Radius 2
 Height 2
 Scale 0.4
 RenderStyle Add
 Alpha 1.0
 SeeSound "CycloneFire"
 States
 {
 Spawn:
  TPLA A 1 BRIGHT //A_SpawnItemEX("CyclonePlasmaTrail", 0, 0, 0, 0, 0, 0, 0, 128, 0)
  loop
 Crash:
 Death:
  TPLA BB 0 BRIGHT A_SpawnItemEX("CycloneSpark", 0, 0, 0, Random(-3,3), Random(-3,3), Random(-6,6), 0, 128, 0)
  TPLA BCD 2 BRIGHT A_SpawnItemEX("CycloneSpark", 0, 0, 0, Random(-3,3), Random(-3,3), Random(-6,6), 0, 128, 0)
  stop
 XDeath:
  TNT1 AA 0 BRIGHT A_SpawnItemEX("CycloneSpark", 0, 0, 0, Random(-3,3), Random(-3,3), Random(-6,6), 0, 128, 0)
  TNT1 A 0 A_SpawnItemEx("GEBlood", 0, 0, 0, 0, 0, 0, 0, 128, 0)
  TNT1 AAA 2 BRIGHT A_SpawnItemEX("CycloneSpark", 0, 0, 0, Random(-3,3), Random(-3,3), Random(-6,6), 0, 128, 0)
  stop
 }
}

actor CyclonePlasmaTrail
{
  Radius 1
  Height 1
  Speed 0
  Scale 0.4
  RenderStyle Add
  +NOCLIP
  +NOGRAVITY
  +DONTSPLASH
  States
  {
  Spawn:
	TPLA AA 0 BRIGHT A_FadeOut
	TPLA A 1 BRIGHT A_FadeOut
	loop
  Death:
   TNT1 A 1
   stop
  }
}

actor CycloneSpark
{
  Projectile
  Radius 1
  Height 1
  Speed 0
  Scale 0.1
  RenderStyle Add
  ReactionTime 10
  -NOGRAVITY
  +HEXENBOUNCE
  +DONTSPLASH
  States
  {
  Spawn:
	TPLA A 1 BRIGHT A_CountDown
	TPLA A 0 BRIGHT A_SpawnItemEX("CycloneSparkTrail", 0, 0, 0, 0, 0, 0, 0, 128, 0)
	loop
  Death:
   TPLA A 1 A_Fadeout
   loop
  }
}

actor CycloneSparkTrail
{
  Radius 1
  Height 1
  Speed 0
  Scale 0.1
  RenderStyle Add
  +NOCLIP
  +NOGRAVITY
  +DONTSPLASH
  States
  {
  Spawn:
	TPLA A 0 BRIGHT A_FadeOut
	TPLA A 1 BRIGHT A_FadeOut
	loop
  Death:
   TNT1 A 1
   stop
  }
}

ACTOR Snow
{
	Radius 1
	Height 1
	Speed 0
	Damage 0
	Gravity 0.07
	+NOBLOCKMAP
	+DROPOFF
	+MISSILE
	+NOTELEPORT
	+ACTIVATEIMPACT
	+ACTIVATEPCROSS
	+DONTSPLASH
	+FORCEXYBILLBOARD
	States
	{
	Spawn:
		SNOW A 1
		Loop
	Death:
		TNT1 A 1
		Stop
	}
}

actor Snowing1536 16000
{
	Radius 1536
	Height 1
	Speed 0
	Mass 9999999
	+SPAWNCEILING
	+NOGRAVITY
	+CORPSE
	States
	{
	Spawn:
		TNT1 A 1 A_SpawnItemEX("Snow", Random(-484,484), Random(-484,484), 0, Random(-2,2), Random(-2,2), 0, Random(-360,360), 128, 0)
		Loop
	}
}

actor Teleparticle
{
 Projectile
 Radius 1
 Height 1
 Damage 0
 Speed 0
 Renderstyle Add
 Alpha 0.8
 +NOCLIP
 States
 {
  Spawn:
   TELE ABC 5 BRIGHT
   stop
  Death:
   TNT1 A 1
   stop
 }
}

actor TeleportNew : TeleportFog Replaces TelePortFog
{
 States
 {
 Spawn:
  TNT1 AAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx ("Teleparticle", Random(-24, 24), Random(-24, 24), Random(-8, 32), 0, 0, Random(2,4), 0, 128, 0)
  stop
 }
}

ACTOR Ar33Clip : Ammo
{
	Inventory.MaxAmount 30 // size of the clip
	Ammo.BackpackAmount 0
	Ammo.BackpackMaxAmount 30 //MUST be the same as Inventory.MaxAmmount
	Inventory.Icon "POINTBUL"
	+INVENTORY.IGNORESKILL
}

actor AR33 : Weapon 18431
{
  Obituary "%o was splattered by %k's AR-33."
  Weapon.Ammotype1 "Ar33Clip"
  Weapon.Ammotype2 "PointedBullets"
  Decal BulletChip
  Weapon.UpSound "misc/w_pkup"
  Inventory.Pickupmessage "AR-33"
  AttackSound "Ar33Fire"
  Weapon.Selectionorder 450
  Weapon.AmmoUse1 1
  Weapon.AmmoGive1 30
  Weapon.AmmoGive2 30
  Weapon.SisterWeapon "AR33Paintball"
  -WEAPON.NOAUTOFIRE
  +WEAPON.AMMO_OPTIONAL
  States
  {
  Ready:
	AR33 A 0 A_WeaponReady
	goto ReloadCheck
	AR33 A 1 A_WeaponReady
	goto Ready+1

  ReloadCheck:
	 AR33 A 0 A_JumpIfInventory("Ar33Clip",30,2)
	 AR33 A 0 A_JumpIfInventory("PointedBullets",1,"ReloadStart")
	 AR33 A 0
	 goto Ready+1

  ReloadStart:
	 AR3R A 0 A_PlayWeaponSound("WeaponReload")
	 AR3R ABCDEFG 1
	 TNT1 A 5
	 goto ReloadAmmo

  ReloadAmmo:
	 TNT1 A 0 A_TakeInventory("PointedBullets",1)
	 TNT1 A 0 A_GiveInventory("Ar33Clip",1)
	 TNT1 A 0 A_JumpIfInventory("Ar33Clip",30,"ReloadDone")
	 TNT1 A 0 A_JumpIfInventory("PointedBullets",1,"ReloadAmmo")
	 goto ReloadDone

  ReloadDone:
	 TNT1 A 5
	 AR3R GFEDCBA 1
	 goto Ready+1

	Deselect:
		AR33 A 1 A_Lower
		TNT1 A 0 A_Lower
		loop
	Select:
		AR33 A 1 A_Raise
		TNT1 A 0 A_Raise
		loop
	SpawnTracer:
		AR33 A 0 A_FireCustomMissile("BulletTracer", random(-2,2), 0, 9, 2, 0, random(-2,2))
		goto Fire+2
	Hold: // Intentional Fall-Through
	Fire:
		AR33 A 0 A_JumpIfNoAmmo("ReloadCheck")
		AR33 A 0 A_Jump(56, "SpawnTracer")
		AR33 A 0 A_GunFlash
		AR33 B 0 A_Jump(128, "FireRandom1")
		AR33 B 1 BRIGHT A_FireBullets(4, 2, 1, 8, "BulletPuff")
		AR33 D 0 A_FireCustomMissile("PointedBulletCasing", Random(-40, -50), 0, 3, 6, 0)
		AR33 A 2
		AR33 A 0 A_GunFlash
		AR33 B 0 A_Jump(128, "FireRandom2")
		AR33 B 1 BRIGHT A_FireBullets(4, 2, 1, 8, "BulletPuff")
		AR33 D 0 A_FireCustomMissile("PointedBulletCasing", Random(-40, -50), 0, 3, 6, 0)
		AR33 A 2
		AR33 A 0 A_GunFlash
		AR33 B 0 A_Jump(128, "FireRandom3")
		AR33 B 1 BRIGHT A_FireBullets(4, 2, 1, 8, "BulletPuff")
		AR33 D 0 A_FireCustomMissile("PointedBulletCasing", Random(-40, -50), 0, 3, 6, 0)
		AR33 A 2
		AR33 D 0 A_Refire
		AR33 DEFGHIJ 2
		goto Ready+1
	FireRandom1:
		AR33 C 2 BRIGHT A_FireBullets(4, 2, 1, 8, "BulletPuff")
		goto Fire+5
	FireRandom2:
		AR33 C 2 BRIGHT A_FireBullets(4, 2, 1, 8, "BulletPuff")
		goto Fire+10
	FireRandom3:
		AR33 C 2 BRIGHT A_FireBullets(4, 2, 1, 8, "BulletPuff")
		goto Fire+15
	AltFire:
		AR33 A 0
		goto ReloadCheck
	Flash:
		TNT1 A 0 Bright Radius_Quake(1, 2, 0, 1, 0)
		TNT1 A 2 bright A_Light1
		TNT1 A 1 bright A_Light2
		TNT1 A 0 bright A_Light0
		stop
	Spawn:
		AR3P A -1
		stop
  }
}

actor AR33Paintball : AR33
{
	Decal PaintBallSplat
	Weapon.SisterWeapon "AR33"
	+WEAPON.POWERED_UP
}

ACTOR ExplodingChair 19993
{
	Game Doom
	Health 60
	Radius 16
	Height 32
	Mass 9999999
	Obituary "%o didn't know the Chair %g shot was loaded with C4."
	+SOLID
	+NOBLOOD
	+SHOOTABLE
	States
	{
	Spawn:
	  CHAI A -1
	  Loop
	Death:
	  CHAI B 0 A_Playsound("world/barrelx")
	  CHAI B 0 bright A_Explode(16, 48, 0)
	  CHAI B 0 A_NoGravity
	  CHAI B 0 A_NoBlocking
	  CHAI BBBBBBBBBBBB 0 A_SpawnItemEx("Debris1", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(0, 5), Random(0, 5), Random(0, 5), Random(-360, 360), 128, 24)
	  CHAI BBBBBBBBBBBB 0 A_SpawnItemEx("Debris2", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(0, 5), Random(0, 5), Random(0, 5), Random(-360, 360), 128, 24)
	  CHAI BBBBBBBBBBBB 0 A_SpawnItemEx("Debris3", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(0, 5), Random(0, 5), Random(0, 5), Random(-360, 360), 128, 24)
	  CHAI BBBBBBBBBBBB 0 A_SpawnItemEx("Debris4", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(0, 5), Random(0, 5), Random(0, 5), Random(-360, 360), 128, 24)
	  CHAI BBBBBBBBBBBB 0 A_SpawnItemEx("Debris5", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(0, 5), Random(0, 5), Random(0, 5), Random(-360, 360), 128, 24)
	  CHAI B 3 A_SpawnItemEx ("RollingExplosion4", 0, 0, 0, 0, 0, 0, 0, 0, 0)
	  CHAI BBBBBBBBB 3 A_SpawnItemEx ("RollingExplosion4", Random(-16, 16), Random(-16, 16), Random(0, 24), 0, 0, 0, Random(-360, 360), 0, 0)
	  CHAI BBBBBBB 5 A_SpawnItemEx ("RollingExplosion4", Random(-16, 16), Random(-16, 16), Random(0, 24), 0, 0, 0, Random(-360, 360), 0, 0)
	  CHAI B 6300
	  NULL A 0 A_SpawnItem("TeleportFog")
	  NULL A 0 A_SpawnItem("ExplodingChair")
	  stop
	}
}

actor GlassRespawner
{
 Radius 1
 Height 1
 SpawnID 243
 Health 1000
 Speed 0
 +NOCLIP
 +NOGRAVITY
 States
 {
   Spawn:
   TNT1 A 0 bright
   TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BrokenGlass", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-3, 3), Random(-3, 3), Random(-3, 8), 0, 128, 0)
   TNT1 A 6300 bright
   TNT1 A 1 ACS_Execute(256, 0, tid, health, 0)
   stop
 }
}

actor BrokenGlass
{
 Radius 1
 Height 1
 Projectile
 Speed 0
 ReactionTime 96
 Gravity 0.8
 Scale 0.4
 RenderStyle Translucent
 Alpha 0.5
 BounceCount 6
 BounceFactor 0.7
 -NOGRAVITY
 +HEXENBOUNCE
 -ACTIVATEMCROSS
 -ACTIVATEPCROSS
 -ACTIVATEIMPACT
 States
 {
  Spawn:
   TNT1 A 0
   GLSH A 0 A_Jump(127, "Spawn2", "Spawn3")
   GLSH A 1 A_CountDown
   goto Spawn+2
  Spawn2:
   GLSH B 1 A_CountDown
   loop
  Spawn3:
   GLSH C 1 A_CountDown
   loop
  Death:
   GLSH B 1 A_FadeOut(0.01)
   loop
 }
}

actor ProxMines : Ammo
{
	scale 0.3
	radius 16
	height 8
	inventory.pickupmessage "Picked up a Proximity Mine"
	inventory.icon "PROXMINE"
	inventory.amount 1
	inventory.maxamount 11
	ammo.backpackamount 3
	ammo.backpackmaxamount 22
	+FLOATBOB
	states
	{
		Spawn:
			MINE A -1
			stop
	}
}

// Prox Mine Code: Thanks goes the SMII team for
// Improving on my original prox mine code. :)
// Modified to suit Goldeneye 007's Prox mine behavior.

actor ProxExplosion
{
  Radius 1
  Height 1
  Speed 0
  Scale 1.25
  obituary "%o couldn't get away from %k's mine soon enough."
  RenderStyle Translucent
  Alpha 0.9
  -SOLID
  +NOGRAVITY
  +NODAMAGETHRUST
  +FORCERADIUSDMG
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
   FIR2 ABCDEFGH 2 BRIGHT A_Explode(10, 76, 1)
   FIR2 IJKLMN 2 BRIGHT
   stop
  }
}

actor ProxDetector
{
	radius 5
	height 2
	health 1
	damage 22
	speed 0
	scale 0.3
	mass 9999999
	obituary "%o didn't see %k's proximity mine."
	meleerange 128
	+DOOMBOUNCE
	+NOBLOOD
	+MISSILE
	+NOGRAVITY
	+GHOST
	+THRUGHOST
	+LOOKALLAROUND
	+SHOOTABLE
	+NOCLIP
	+NOTARGET
	states
	{
		Spawn:
			TNT1 A 0
			TNT1 A 1 A_Look
			loop
		See:
			TNT1 A 1 A_Chase
			TNT1 A 0 A_JumpIfCloser(128, 3)
			TNT1 A 0 A_Look
			loop
			TNT1 A 2 A_Explode(40, 10, 1)
			stop
		Melee:
			TNT1 A 0 A_Explode(40, 10, 1)
			stop
		Death:
			TNT1 A 1 A_Explode(999, 10, 1)
			stop
	}
}

actor ProxProj
{
	radius 8
	height 8
	health 5
	damage 22
	speed 0
	scale 0.3
	mass 9999999
	obituary "%o didn't see %k's proximity mine."
	+HEXENBOUNCE
	+NOBLOOD
	+SHOOTABLE
	-NOGRAVITY
	+LOOKALLAROUND
	+NOTARGET
	+BOUNCEONACTORS
	+GHOST
	+THRUGHOST
	+NOCLIP
	+MISSILE
	bouncefactor 0
	states
	{
		Spawn:
			PROX A 0
			PROX A 1
			PROX A 0 A_CheckFloor("SpawnFloor")
			PROX A 0 A_NoGravity
			PROX A 0 A_Stop
			PROX A 16
			PROX A 0 A_SpawnItem("ProxDetector", 0, 0, 1)
			PROX A 1
			goto Spawn+7
		SpawnFloor:
			PROX B 16
			PROX B 0 A_SpawnItem("ProxDetector", 0, 0, 1)
			PROX B 1
			goto SpawnFloor+2
		Death:
			PROX A 0 A_NoGravity
			PROX A 0 A_CheckFloor("FloorDeath")
			PROX A 14 A_PlaySound("ProxBeep")
			TNT1 A 0 bright A_PlaySound("world/barrelx")
			TNT1 A 0 bright A_Explode(64, 128, 1)
			TNT1 A 0 A_NoGravity
			TNT1 A 3 A_SpawnItemEx ("ProxExplosion", 0, 0, 0, 0, 0, 0, 0, 0, 0)
			TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
			TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
			TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
			TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
			TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
			TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
			TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
			TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
			TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
			TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
			TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
			TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
			TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
			TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
			TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
			TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
			TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
			TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
			TNT1 AAAAAAA 5 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
			stop
		FloorDeath:
			PROX B 10 A_PlaySound("ProxBeep")
			goto Death+3
	}
}

actor ProxProj3 : ProxProj
{
 States
 {
		Spawn:
			PROX A 1 A_CheckFloor("SpawnFloor")
			goto Spawn
		SpawnFloor:
			PROX B 16 A_PlaySound("ProxHit")
			PROX B 0 A_SpawnItem("ProxDetector", 0, 0, 1)
			PROX B 1
			goto SpawnFloor+2
 }
}

actor ProxProj2
{
	radius 5
	height 5
	damage 0
	speed 24
	scale 0.3
	obituary "%o didn't see %k's proximity mine."
	SeeSound "ProxThrow"
	+MISSILE
	+THRUGHOST
	+GHOST
	+CORPSE
	+DROPOFF
	+NOBLOCKMAP
	+NOTARGET
	states
	{
		Spawn:
			PROX A 0
			PROX A 0 A_Gravity
			PROX A 0 ThrustThingZ(0, 30, 0, 1)
			PROX AB 1
			goto Spawn+3
		XDeath:
			PROX A 0 A_PlaySound("weapons/grbnce")
			PROX A 0 A_ScreamAndUnblock
			PROX A 0 A_SpawnItem("ProxProj3", 0, 1)
			TNT1 A 1
			stop
		Death:
			PROX A 0 A_PlaySound("Proxhit")
			PROX A 0 A_ScreamAndUnblock
			PROX A 0 A_SpawnItem("ProxProj", 0, 1)
			TNT1 A 1
			stop
	}
}

actor ProximityMines : Weapon
{
  Obituary "%o didn't see %k's proximity mine."
  Weapon.Ammotype1 "ProxMines"
  Weapon.UpSound "ProxBeep"
  Inventory.Pickupmessage "Picked up a proximity mine"
  Weapon.Selectionorder 900
  Weapon.AmmoUse1 1
  Weapon.AmmoGive1 1
  Scale 0.3
  +WEAPON.NOAUTOFIRE
  +WEAPON.NOAUTOAIM
  +FLOATBOB
  States
  {
	Spawn:
		MINE A -1
		stop
	Select:
		TNT1 A 1 A_Raise
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
		loop
	Deselect:
		TNT1 A 1 A_Lower
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
		loop
	Ready:
		TNT1 A 1 A_WeaponReady
		loop
	Fire:
		TNT1 A 30 A_FireCustomMissile("ProxProj2", 0, 1, 5, 0, 0)
		TNT1 A 0 A_Refire
		goto Ready
  }
}

ACTOR ProxPickup : Custominventory 25375
{
   Scale 0.3
   inventory.respawntics 1750
   inventory.pickupmessage "Picked up a Proximity Mine"
   inventory.pickupsound "ProxBeep"
   +COUNTITEM
   +FLOATBOB
   States
   {
   Spawn:
	  MINE A -1
	  loop
   Pickup:
	  TNT1 A 0 A_GiveInventory("ProximityMines")
	  stop
   }
}

ACTOR RemoteMine
{
	PROJECTILE
	+SHOOTABLE
	+GHOST
	+NOBLOOD
	+EXTREMEDEATH
	+SEEKERMISSILE
	+THRUGHOST
	-NOBLOCKMAP
	-NOLIFTDROP
	-NOGRAVITY
	-ACTIVATEIMPACT
	-ACTIVATEPCROSS
	-ACTIVATEMCROSS
	mass 9999999
	SpawnID 234
	Obituary "%k detonated a remote mine in %o's face."
	Health 5
	Damage 0
	Speed 24
	Scale 0.3
	Radius 6
	Height 6
	SeeSound "ProxThrow"
	Renderstyle Normal
	States
	{
	Spawn:
	  RMIN A 0
	  RMIN A 0
	  RMIN A 0 ThrustThingZ(0, 30, 0, 1)
	  RMIN A 0 A_UnSetShootable
	  RMIN AB 1
	  goto Spawn+4
	Death:
	  RMIN A 0 A_PlaySound("Proxhit")
	  RMIN A 0 A_SetShootable
	  RMIN A 0 A_CheckFloor("FloorDeath")
	  RMIN A 0 A_NoGravity
	  RMIN A 2 A_JumpIfInTargetInventory("Detonator", 1, "Detonate")
	  RMIN A 0 A_JumpIfHealthLower(1, "BlowUp")
	  goto Death+4
	FloorDeath:
	  RMIN B 0 A_Gravity
	  RMIN B 2 A_JumpIfInTargetInventory("Detonator", 1, "Detonate")
	  RMIN B 0 A_JumpIfHealthLower(1, "BlowUp")
	  goto FloorDeath+1
	XDeath:
	  RMIN A 0
	  RMIN A 0 A_Gravity
	  RMIN A 0 A_SetShootable
	  RMIN A 0 A_PlaySound("weapons/grbnce")
	  RMIN A 1
	  RMIN A 0 A_CheckFloor("FloorDeath")
	  RMIN A 0 A_JumpIfHealthLower(1, "BlowUp")
	  goto XDeath+4
	Detonate:
		RMIN A 0 A_UnSetShootable
		RMIN A 0 A_UnsetSolid
		RMIN A 0 A_CheckFloor("FloorDetonate")
		RMIN A 0 A_NoGravity
		RMIN A 4 A_PlaySound("ProxBeep")
		RMIN A 4 A_Jump(127, 1)
		RMIN A 4
		TNT1 A 0 bright A_PlaySound("world/barrelx")
		TNT1 A 0 bright A_Explode(72, 128, 1)
		TNT1 A 0 A_NoGravity
		TNT1 A 0 Thing_ChangeTID(0, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", 0, 0, 0, 0, 0, 0, 0, 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 AAAAAAA 5 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		stop
	BlowUp:
		RMIN A 0 A_Fall
		RMIN A 0 A_UnsetSolid
		RMIN A 0 A_NoGravity
		RMIN A 0 A_Stop
		TNT1 A 0 bright A_PlaySound("world/barrelx")
		TNT1 A 0 bright A_Explode(72, 128, 1)
		TNT1 A 0 A_NoGravity
		TNT1 A 0 Thing_ChangeTID(0, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionSmoke2", Random(-44, 44), Random(-44, 44), Random(0, 38), 0, 0, 0, 0, 128, 0)
		TNT1 A 3 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		TNT1 AAAAAAA 5 A_SpawnItemEx ("ProxExplosion", Random(-24, 24), Random(-24, 24), Random(0, 38), 0, 0, 0, Random(-360, 360), 0, 0)
		stop
	FloorDetonate:
		RMIN B 4 A_PlaySound("ProxBeep")
		RMIN B 4 A_Jump(127, 1)
		RMIN B 4
		goto Detonate+7
	}
}

actor RemoMines : Ammo
{
	scale 0.3
	radius 16
	height 8
	inventory.pickupmessage "Picked up a Remote Mine"
	inventory.icon "REMOMINE"
	inventory.amount 1
	inventory.maxamount 11
	ammo.backpackamount 3
	ammo.backpackmaxamount 22
	+FLOATBOB
	states
	{
		Spawn:
			RMIP A -1
			stop
	}
}

actor RemoteMines : Weapon
{
  Obituary "%k detonated a remote mine in %o's face."
  Weapon.Ammotype1 "RemoMines"
  Weapon.UpSound "ProxBeep"
  Inventory.Pickupmessage "Picked up a remote mine"
  Weapon.Selectionorder 910
  Weapon.AmmoUse1 1
  Weapon.AmmoGive1 1
  Scale 0.3
  +WEAPON.NOAUTOFIRE
  +WEAPON.AMMO_OPTIONAL
  +WEAPON.NOAUTOAIM
  +FLOATBOB
  States
  {
	Spawn:
		RMIP A -1
		stop
	Select:
		TNT1 A 1 A_Raise
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
		loop
	Deselect:
		TNT1 A 1 A_Lower
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
		loop
	Ready:
		TNT1 A 1 A_WeaponReady
		loop
	Fire:
		TNT1 A 0 A_JumpIfNoAmmo("AltFire")
		TNT1 A 1 A_FireCustomMissile("RemoteMine", 0, 1, 5, 0, 0)
		TNT1 A 29
		TNT1 A 0 A_Refire
		goto Ready
	AltFire:
		TNT1 A 1
		DETO ABCD 1
		DETO E 5
		DETO F 0 A_PlayWeaponSound("RemoteButton")
		DETO F 0 A_GiveInventory("Detonator", 1)
		DETO F 5
		DETO E 5
		DETO DCBA 1
		TNT1 A 10 A_TakeInventory("Detonator", 999)
		TNT1 A 0 A_Refire
		goto Ready
  }
}

ACTOR RemotePickup : Custominventory 25376
{
   Scale 0.3
   inventory.respawntics 1750
   inventory.pickupmessage "Picked up a Remote Mine"
   inventory.pickupsound "ProxBeep"
   +COUNTITEM
   +FLOATBOB
   States
   {
   Spawn:
	  RMIP A -1
	  loop
   Pickup:
	  TNT1 A 0 A_GiveInventory("RemoteMines")
	  stop
   }
}

